<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Common (dolfinx::common) &mdash; DOLFINx 0.3.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=4621528c"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Geometry (dolfinx::geometry)" href="geometry.html" />
    <link rel="prev" title="DOLFINx C++ API documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            DOLFINx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Common (<code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv4N7dolfinx6commonE"><code class="docutils literal notranslate"><span class="pre">common</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap"><code class="docutils literal notranslate"><span class="pre">common::compute_owned_indices()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE"><code class="docutils literal notranslate"><span class="pre">common::stack_index_maps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEEb"><code class="docutils literal notranslate"><span class="pre">common::create_sub_index_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V"><code class="docutils literal notranslate"><span class="pre">common::sort_unique()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T"><code class="docutils literal notranslate"><span class="pre">common::hash_local()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T"><code class="docutils literal notranslate"><span class="pre">common::hash_global()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE"><code class="docutils literal notranslate"><span class="pre">common::IndexMap</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::IndexMap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::IndexMap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEXL2EEEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::IndexMap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapERR8IndexMap"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::IndexMap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapD0Ev"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::~IndexMap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapaSERR8IndexMap"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::operator=()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap11local_rangeEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::local_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap10num_ghostsEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::num_ghosts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap10size_localEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::size_local()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap11size_globalEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::size_global()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap6ghostsEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::ghosts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap4commEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::comm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::local_to_global()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::global_to_local()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap14global_indicesEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::global_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap6ownersEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::owners()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap19index_to_dest_ranksEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::index_to_dest_ranks()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap14shared_indicesEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::shared_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap3srcEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::src()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap4destEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::dest()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap10overlappedEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::overlapped()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common8IndexMap9imbalanceEv"><code class="docutils literal notranslate"><span class="pre">common::IndexMap::imbalance()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer4typeE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer14allocator_typeE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::allocator_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer9ScattererERK8IndexMapiRK9Allocator"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::Scatterer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_fwd_begin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common9Scatterer15scatter_fwd_endENSt4spanI11MPI_RequestEE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_fwd_end()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_fwd_begin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer15scatter_fwd_endEvNSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_fwd_end()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer11scatter_fwdEvNSt4spanIK1TEENSt4spanI1TEE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_fwd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_rev_begin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common9Scatterer15scatter_rev_endENSt4spanI11MPI_RequestEE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_rev_end()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_rev_begin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I000EN7dolfinx6common9Scatterer15scatter_rev_endEvNSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_rev_end()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common9Scatterer11scatter_revEvNSt4spanI1TEENSt4spanIK1TEE8BinaryOp"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::scatter_rev()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common9Scatterer17local_buffer_sizeEv"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::local_buffer_size()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common9Scatterer18remote_buffer_sizeEv"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::remote_buffer_size()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common9Scatterer13local_indicesEv"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::local_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common9Scatterer14remote_indicesEv"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::remote_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common9Scatterer2bsEv"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::bs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer21create_request_vectorEN9Scatterer4typeE"><code class="docutils literal notranslate"><span class="pre">common::Scatterer::create_request_vector()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLoggerE"><code class="docutils literal notranslate"><span class="pre">common::TimeLogger</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLogger10TimeLoggerEv"><code class="docutils literal notranslate"><span class="pre">common::TimeLogger::TimeLogger()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLoggerD0Ev"><code class="docutils literal notranslate"><span class="pre">common::TimeLogger::~TimeLogger()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLogger15register_timingENSt6stringEddd"><code class="docutils literal notranslate"><span class="pre">common::TimeLogger::register_timing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLogger7timingsENSt3setI10TimingTypeEE"><code class="docutils literal notranslate"><span class="pre">common::TimeLogger::timings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLogger12list_timingsE8MPI_CommNSt3setI10TimingTypeEEN5Table9ReductionE"><code class="docutils literal notranslate"><span class="pre">common::TimeLogger::list_timings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLogger6timingENSt6stringE"><code class="docutils literal notranslate"><span class="pre">common::TimeLogger::timing()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6common14TimeLogManagerE"><code class="docutils literal notranslate"><span class="pre">common::TimeLogManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common14TimeLogManager6loggerEv"><code class="docutils literal notranslate"><span class="pre">common::TimeLogManager::logger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6common5TimerE"><code class="docutils literal notranslate"><span class="pre">common::Timer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common5Timer5TimerEv"><code class="docutils literal notranslate"><span class="pre">common::Timer::Timer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common5Timer5TimerERKNSt6stringE"><code class="docutils literal notranslate"><span class="pre">common::Timer::Timer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common5TimerD0Ev"><code class="docutils literal notranslate"><span class="pre">common::Timer::~Timer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common5Timer5startEv"><code class="docutils literal notranslate"><span class="pre">common::Timer::start()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common5Timer6resumeEv"><code class="docutils literal notranslate"><span class="pre">common::Timer::resume()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common5Timer4stopEv"><code class="docutils literal notranslate"><span class="pre">common::Timer::stop()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK7dolfinx6common5Timer7elapsedEv"><code class="docutils literal notranslate"><span class="pre">common::Timer::elapsed()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geometry.html">Geometry (<code class="docutils literal notranslate"><span class="pre">dolfinx::geometry</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">Graph (<code class="docutils literal notranslate"><span class="pre">dolfinx::graph</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="fem.html">Finite element (<code class="docutils literal notranslate"><span class="pre">dolfinx::fem</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">IO (<code class="docutils literal notranslate"><span class="pre">dolfinx::io</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="la.html">Linear algebra (<code class="docutils literal notranslate"><span class="pre">dolfinx::la</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh.html">Mesh (<code class="docutils literal notranslate"><span class="pre">dolfinx::mesh</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="refinement.html">Refinement (<code class="docutils literal notranslate"><span class="pre">dolfinx::refinement</span></code>)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DOLFINx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Common (<code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code>)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/common.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="common-dolfinx-common">
<h1>Common (<code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code>)<a class="headerlink" href="#common-dolfinx-common" title="Link to this heading"></a></h1>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6commonE">
<span id="_CPPv3N7dolfinx6commonE"></span><span id="_CPPv2N7dolfinx6commonE"></span><span id="dolfinx::common"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">common</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6commonE" title="Link to this definition"></a><br /></dt>
<dd><p>Miscellaneous classes, functions and types. </p>
<p>Generic tools.</p>
<p>This namespace provides utility type functions for managing subsystems, convenience classes and library-wide typedefs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap">
<span id="_CPPv3N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap"></span><span id="_CPPv2N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap"></span><span id="dolfinx::common::compute_owned_indices__std::span:std::int32_tC:.IndexMapCR"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a53546ac2b5250e045e91411cae1b5724"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">compute_owned_indices</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">indices</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap" title="Link to this definition"></a><br /></dt>
<dd><p>Given a sorted vector of indices (local numbering, owned or ghost) and an index map, this function returns the indices owned by this process, including indices that might have been in the list of indices on another processes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> – <strong>[in]</strong> List of indices </p></li>
<li><p><strong>map</strong> – <strong>[in]</strong> The index map </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indices owned by the calling process </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE">
<span id="_CPPv3N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE"></span><span id="_CPPv2N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE"></span><span id="dolfinx::common::stack_index_maps__std::vector:std::pair:std::reference_wrapper:IndexMapC:.i::CR"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1aed477f7f68f03a1a443a50de541cde4a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">tuple</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stack_index_maps</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">reference_wrapper</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">maps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Compute layout data and ghost indices for a stacked (concatenated) index map, i.e. ‘splice’ multiple maps into one. </p>
<p>The input maps are concatenated, with indices in <code class="docutils literal notranslate"><span class="pre">maps</span></code> and owned by the caller remaining owned by the caller. Ghost data is stored at the end of the local range as normal, with the ghosts in blocks in the order of the index maps in <code class="docutils literal notranslate"><span class="pre">maps</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Index maps with a block size are unrolled in the data for the concatenated index map. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Communication is required to compute the new ghost indices.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>maps</strong> – <strong>[in]</strong> List of (index map, block size) pairs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The (0) global offset of a concatenated map for the calling rank, (1) local offset for the owned indices of each submap in the concatenated map, (2) new indices for the ghosts for each submap, and (3) owner rank of each ghost entry for each submap. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEEb">
<span id="_CPPv3N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEEb"></span><span id="_CPPv2N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEEb"></span><span id="dolfinx::common::create_sub_index_map__IndexMapCR.std::span:std::int32_tC:.b"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a80d8cf638474da5d2dc4dada7ba2415a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_sub_index_map</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">imap</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">indices</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">allow_owner_change</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEEb" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new index map from a subset of indices in an existing index map. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>imap</strong> – <strong>[in]</strong> Parent map to create a new sub-map from. </p></li>
<li><p><strong>indices</strong> – <strong>[in]</strong> Local indices in <code class="docutils literal notranslate"><span class="pre">imap</span></code> (owned and ghost) to include in the new index map. </p></li>
<li><p><strong>allow_owner_change</strong> – <strong>[in]</strong> If <code class="docutils literal notranslate"><span class="pre">true</span></code>, indices that are not included in <code class="docutils literal notranslate"><span class="pre">indices</span></code> by their owning process can be included in <code class="docutils literal notranslate"><span class="pre">indices</span></code> by processes that ghost the indices to be included in the new submap. These indices will be owned by one of the sharing processes in the submap. If <code class="docutils literal notranslate"><span class="pre">false</span></code>, and exception is raised if an index is included by a sharing process and not by the owning process. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The (i) new index map and (ii) a map from local indices in the submap to local indices in the original (this) map. </p>
</dd>
<dt class="field-odd">Pre<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">indices</span></code> must be sorted and must not contain duplicates. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V">
<span id="_CPPv3I00EN7dolfinx6common11sort_uniqueERK1URK1V"></span><span id="_CPPv2I00EN7dolfinx6common11sort_uniqueERK1URK1V"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">U</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">V</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a3d4f61eb18edfadf84cdbb81afe141d5"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::U"><span class="n"><span class="pre">U</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value_type</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::V"><span class="n"><span class="pre">V</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value_type</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sort_unique</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::U"><span class="n"><span class="pre">U</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">indices</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::V"><span class="n"><span class="pre">V</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">values</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="Link to this definition"></a><br /></dt>
<dd><p>Sort two arrays based on the values in array <code class="docutils literal notranslate"><span class="pre">indices</span></code>. Any duplicate indices and the corresponding value are removed. In the case of duplicates, the entry with the smallest value is retained. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> – <strong>[in]</strong> Array of indices </p></li>
<li><p><strong>values</strong> – <strong>[in]</strong> Array of values </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted (indices, values), with sorting based on indices </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T">
<span id="_CPPv3I0EN7dolfinx6common10hash_localERK1T"></span><span id="_CPPv2I0EN7dolfinx6common10hash_localERK1T"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d7/de1/namespacedolfinx_1_1common_1af086d214f48b9dc23d8f2fe30d23c1d8"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hash_local</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T" title="dolfinx::common::hash_local::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T" title="Link to this definition"></a><br /></dt>
<dd><p>Compute a hash of a given object. </p>
<p>The hash is computed using Boost container hash (<a class="reference external" href="https://www.boost.org/doc/libs/release/libs/container_hash/">https://www.boost.org/doc/libs/release/libs/container_hash/</a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – <strong>[in]</strong> The object to compute a hash of. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The hash values. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T">
<span id="_CPPv3I0EN7dolfinx6common11hash_globalE8MPI_CommRK1T"></span><span id="_CPPv2I0EN7dolfinx6common11hash_globalE8MPI_CommRK1T"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d7/de1/namespacedolfinx_1_1common_1abf02a2803d65dfa4ba932e2a32d69d65"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hash_global</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T" title="dolfinx::common::hash_global::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T" title="Link to this definition"></a><br /></dt>
<dd><p>Compute a hash for a distributed (MPI) object. </p>
<p>A hash is computed on each process for the local part of the object. Then, a hash of the std::vector containing each local hash key in rank order is returned.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> The communicator on which to compute the hash. </p></li>
<li><p><strong>x</strong> – <strong>[in]</strong> The object to compute a hash of. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The hash values. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMapE">
<span id="_CPPv3N7dolfinx6common8IndexMapE"></span><span id="_CPPv2N7dolfinx6common8IndexMapE"></span><span id="dolfinx::common::IndexMap"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMapE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;IndexMap.h&gt;</em></div>
<p>This class represents the distribution index arrays across processes. An index array is a contiguous collection of <code class="docutils literal notranslate"><span class="pre">N+1</span></code> indices <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.,</span> <span class="pre">N]</span></code> that are distributed across <code class="docutils literal notranslate"><span class="pre">M</span></code> processes. On a given process, the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> stores a portion of the index set using local indices <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">,</span> <span class="pre">n]</span></code>, and a map from the local indices to a unique global index. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE"></span><span id="dolfinx::common::IndexMap::IndexMap__MPI_Comm.std::int32_t"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1aca5a94a566f0409b98cfb213088c6bbc"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE" title="Link to this definition"></a><br /></dt>
<dd><p>Create an non-overlapping index map. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> MPI communicator that the index map is distributed across. </p></li>
<li><p><strong>local_size</strong> – <strong>[in]</strong> Local size of the index map, i.e. the number of owned entries. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEE">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"></span><span id="dolfinx::common::IndexMap::IndexMap__MPI_Comm.std::int32_t.std::span:std::int64_tC:.std::span:iC:"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a844bd4b0db87b2b8df91954699bef145"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_size</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ghosts</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">owners</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEE" title="Link to this definition"></a><br /></dt>
<dd><p>Create an overlapping (ghosted) index map. </p>
<p>This constructor uses a ‘consensus’ algorithm to determine the ranks that ghost indices that are owned by the caller. This requires non-trivial MPI communication. If the ranks that ghost indices owned by the caller are known, it more efficient to use the constructor that takes these ranks as an argument.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> MPI communicator that the index map is distributed across. </p></li>
<li><p><strong>local_size</strong> – <strong>[in]</strong> Local size of the index map, i.e. the number of owned entries </p></li>
<li><p><strong>ghosts</strong> – <strong>[in]</strong> The global indices of ghost entries </p></li>
<li><p><strong>owners</strong> – <strong>[in]</strong> Owner rank (on <code class="docutils literal notranslate"><span class="pre">comm</span></code>) of each entry in <code class="docutils literal notranslate"><span class="pre">ghosts</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEXL2EEEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEXL2EEEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEX2EEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"></span><span id="dolfinx::common::IndexMap::IndexMap__MPI_Comm.std::int32_t.std::array:std::vector:i:.2:CR.std::span:std::int64_tC:.std::span:iC:"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a23f4a440e6232bbd0ad58d46ef178671"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src_dest</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ghosts</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">owners</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEXL2EEEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE" title="Link to this definition"></a><br /></dt>
<dd><p>Create an overlapping (ghosted) index map. </p>
<p>This constructor is optimised for the case where the ‘source’ (ranks that own indices ghosted by the caller) and ‘destination’ ranks (ranks that ghost indices owned by the caller) are already available. It allows the complex computation of the destination ranks from <code class="docutils literal notranslate"><span class="pre">owners</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> MPI communicator that the index map is distributed across. </p></li>
<li><p><strong>local_size</strong> – <strong>[in]</strong> Local size of the index map, i.e. the number </p></li>
<li><p><strong>src_dest</strong> – <strong>[in]</strong> Lists of [0] src and [1] dest ranks. The list in each must be sorted and not contain duplicates. <code class="docutils literal notranslate"><span class="pre">src</span></code> ranks are owners of the indices in <code class="docutils literal notranslate"><span class="pre">ghosts</span></code>. <code class="docutils literal notranslate"><span class="pre">dest</span></code> ranks are the rank that ghost indices owned by the caller. </p></li>
<li><p><strong>ghosts</strong> – <strong>[in]</strong> The global indices of ghost entries </p></li>
<li><p><strong>owners</strong> – <strong>[in]</strong> Owner rank (on <code class="docutils literal notranslate"><span class="pre">comm</span></code>) of each entry in <code class="docutils literal notranslate"><span class="pre">ghosts</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapERR8IndexMap">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapERR8IndexMap"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapERR8IndexMap"></span><span id="dolfinx::common::IndexMap::IndexMap__IndexMapRR"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a7a154c45377af2cb9ad2ad3f29336400"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapERR8IndexMap" title="dolfinx::common::IndexMap::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapERR8IndexMap" title="Link to this definition"></a><br /></dt>
<dd><p>Move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMapD0Ev">
<span id="_CPPv3N7dolfinx6common8IndexMapD0Ev"></span><span id="_CPPv2N7dolfinx6common8IndexMapD0Ev"></span><span id="dolfinx::common::IndexMap::~IndexMap"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a220b1e61a22c7843de4ef2628a1da8e6"></span><span class="sig-name descname"><span class="n"><span class="pre">~IndexMap</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMapD0Ev" title="Link to this definition"></a><br /></dt>
<dd><p>Destructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMapaSERR8IndexMap">
<span id="_CPPv3N7dolfinx6common8IndexMapaSERR8IndexMap"></span><span id="_CPPv2N7dolfinx6common8IndexMapaSERR8IndexMap"></span><span id="dolfinx::common::IndexMap::assign-operator__IndexMapRR"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a7f41c7641e2c07e5887daab544f07781"></span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">=</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMapaSERR8IndexMap" title="Link to this definition"></a><br /></dt>
<dd><p>Move assignment. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap11local_rangeEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap11local_rangeEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap11local_rangeEv"></span><span id="dolfinx::common::IndexMap::local_rangeC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a63157950175341cbd1f101820161eba7"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">local_range</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap11local_rangeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Range of indices (global) owned by this process. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap10num_ghostsEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap10num_ghostsEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap10num_ghostsEv"></span><span id="dolfinx::common::IndexMap::num_ghostsC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a35ec5d2c9fe2f2295ffc4677a01ba227"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_ghosts</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap10num_ghostsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Number of ghost indices on this process. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap10size_localEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap10size_localEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap10size_localEv"></span><span id="dolfinx::common::IndexMap::size_localC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a727145464e8650ba64186af91904c10a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size_local</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap10size_localEv" title="Link to this definition"></a><br /></dt>
<dd><p>Number of indices owned by this process. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap11size_globalEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap11size_globalEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap11size_globalEv"></span><span id="dolfinx::common::IndexMap::size_globalC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a7371f4128ac914cbfe23d3604f07ed5a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size_global</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap11size_globalEv" title="Link to this definition"></a><br /></dt>
<dd><p>Number indices across communicator. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap6ghostsEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap6ghostsEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap6ghostsEv"></span><span id="dolfinx::common::IndexMap::ghostsC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1acbb98e72d0f9accd82ced99808533c60"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ghosts</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap6ghostsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Local-to-global map for ghosts (local indexing beyond end of local range) </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap4commEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap4commEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap4commEv"></span><span id="dolfinx::common::IndexMap::commC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1ad3217ebf3e21d7902bf89ab1248dabb9"></span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">comm</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap4commEv" title="Link to this definition"></a><br /></dt>
<dd><p>Return the MPI communicator that the map is defined on. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Communicator </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE">
<span id="_CPPv3NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE"></span><span id="_CPPv2NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE"></span><span id="dolfinx::common::IndexMap::local_to_global__std::span:std::int32_tC:.std::span:std::int64_t:C"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1aaba3e25241843926df1608d82513cca3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">local_to_global</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">global</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Compute global indices for array of local indices. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local</strong> – <strong>[in]</strong> Local indices </p></li>
<li><p><strong>global</strong> – <strong>[out]</strong> The global indices </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE">
<span id="_CPPv3NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE"></span><span id="_CPPv2NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE"></span><span id="dolfinx::common::IndexMap::global_to_local__std::span:std::int64_tC:.std::span:std::int32_t:C"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1abcf69c158f3857c6108a83d5fe281e77"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">global_to_local</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">global</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Compute local indices for array of global indices. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – <strong>[in]</strong> Global indices </p></li>
<li><p><strong>local</strong> – <strong>[out]</strong> The local of the corresponding global index in ‘global’. Returns -1 if the local index does not exist on this process. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap14global_indicesEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap14global_indicesEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap14global_indicesEv"></span><span id="dolfinx::common::IndexMap::global_indicesC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1ae6575d9e7089ab0a49e99ee6f193d730"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">global_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap14global_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Build list of indices with global indexing. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The global index for all local indices <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">...)</span></code> on this process, including ghosts </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap6ownersEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap6ownersEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap6ownersEv"></span><span id="dolfinx::common::IndexMap::ownersC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a35ac481195134aa838a97b18e7db8054"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">owners</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap6ownersEv" title="Link to this definition"></a><br /></dt>
<dd><p>The ranks that own each ghost index. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ghost owners. The owning rank of the ith ghost index is <code class="docutils literal notranslate"><a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a35ac481195134aa838a97b18e7db8054"><span class="std std-ref"><span class="pre">owners()</span></span></a><span class="pre">[i]</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap19index_to_dest_ranksEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap19index_to_dest_ranksEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap19index_to_dest_ranksEv"></span><span id="dolfinx::common::IndexMap::index_to_dest_ranksC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a93673569805833d98ee1ed380629fe44"></span><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="graph.html#_CPPv4I0EN7dolfinx5graph13AdjacencyListE" title="dolfinx::graph::AdjacencyList"><span class="n"><span class="pre">AdjacencyList</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">index_to_dest_ranks</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap19index_to_dest_ranksEv" title="Link to this definition"></a><br /></dt>
<dd><p>Compute map from each local (owned) index to the set of ranks that have the index as a ghost. </p>
<p><dl>
<dt class="sig sig-object cpp">
<em><span class="pre">Todo:</span></em></dt>
<dd><p>Aim to remove this function?</p>
</dd></dl>

</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>shared indices </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap14shared_indicesEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap14shared_indicesEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap14shared_indicesEv"></span><span id="dolfinx::common::IndexMap::shared_indicesC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1ad06d0a54c6f460905826340bf1de7496"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shared_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap14shared_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Build a list of owned indices that are ghosted by another rank. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The local index of owned indices that are ghosts on other rank(s). The indices are unique and sorted. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap3srcEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap3srcEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap3srcEv"></span><span id="dolfinx::common::IndexMap::srcC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a9b986fe6d2ee40f59fbe881ccd92b69b"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">src</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap3srcEv" title="Link to this definition"></a><br /></dt>
<dd><p>Ordered set of MPI ranks that own caller’s ghost indices. </p>
<p>Typically used when creating neighbourhood communicators.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>MPI ranks than own ghost indices. The ranks are unique and sorted. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap4destEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap4destEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap4destEv"></span><span id="dolfinx::common::IndexMap::destC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a41bc0b350e01d55645f06fccb4aacda9"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dest</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap4destEv" title="Link to this definition"></a><br /></dt>
<dd><p>Ordered set of MPI ranks that ghost indices owned by caller. </p>
<p>Typically used when creating neighbourhood communicators.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>MPI ranks than own ghost indices. The ranks are unique and sorted. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap10overlappedEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap10overlappedEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap10overlappedEv"></span><span id="dolfinx::common::IndexMap::overlappedC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a0af453c70c14addd6ea34e94094bcc57"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">overlapped</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap10overlappedEv" title="Link to this definition"></a><br /></dt>
<dd><p>Check if index map has overlaps (ghosts on any rank). </p>
<p>The return value of this function is determined by which constructor was used to create the index map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if index map has overlaps on any ranks, otherwise false. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap9imbalanceEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap9imbalanceEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap9imbalanceEv"></span><span id="dolfinx::common::IndexMap::imbalanceC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a9829e31c3d80a7f0255acf0d94ad6692"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imbalance</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap9imbalanceEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the imbalance of the current <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a>. </p>
<p>The imbalance is a measure of load balancing across all processes, defined as the maximum number of indices on any process divided by the average number of indices per process. This function calculates the imbalance separately for owned indices and ghost indices and returns them as a std::array&lt;double, 2&gt;. If the total number of owned or ghost indices is zero, the respective entry in the array is set to -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a collective operation and must be called by all processes in the communicator associated with the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array containing the imbalance in owned indices (first element) and the imbalance in ghost indices (second element). </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common9ScattererE">
<span id="_CPPv3I0EN7dolfinx6common9ScattererE"></span><span id="_CPPv2I0EN7dolfinx6common9ScattererE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Allocator</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">allocator</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Scatterer</span></span></span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;Scatterer.h&gt;</em></div>
<p>A <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a> supports the MPI scattering and gathering of data that is associated with a <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">common::IndexMap</span></a>. </p>
<p>Scatter and gather operations uses MPI neighbourhood collectives. The implementation is designed is for sparse communication patterns, as it typical of patterns based on and <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer4typeE">
<span id="_CPPv3N7dolfinx6common9Scatterer4typeE"></span><span id="_CPPv2N7dolfinx6common9Scatterer4typeE"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a7aead736a07eaf25623ad7bfa1f0ee2d"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer4typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Types of MPI communication pattern used by the <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a>. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer4type8neighborE">
<span id="_CPPv3N7dolfinx6common9Scatterer4type8neighborE"></span><span id="_CPPv2N7dolfinx6common9Scatterer4type8neighborE"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a7aead736a07eaf25623ad7bfa1f0ee2da73415497e8b30e7a48e31465c7e103b3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">neighbor</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer4type8neighborE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer4type3p2pE">
<span id="_CPPv3N7dolfinx6common9Scatterer4type3p2pE"></span><span id="_CPPv2N7dolfinx6common9Scatterer4type3p2pE"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a7aead736a07eaf25623ad7bfa1f0ee2da705bcf0e77bc8b6fc8e66cbf3c055e6c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">p2p</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer4type3p2pE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer14allocator_typeE">
<span id="_CPPv3N7dolfinx6common9Scatterer14allocator_typeE"></span><span id="_CPPv2N7dolfinx6common9Scatterer14allocator_typeE"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a1b9340a5b56dce81fa182aee8c64e363"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">allocator_type</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer::Allocator"><span class="n"><span class="pre">Allocator</span></span></a><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer14allocator_typeE" title="Link to this definition"></a><br /></dt>
<dd><p>The allocator type. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer9ScattererERK8IndexMapiRK9Allocator">
<span id="_CPPv3N7dolfinx6common9Scatterer9ScattererERK8IndexMapiRK9Allocator"></span><span id="_CPPv2N7dolfinx6common9Scatterer9ScattererERK8IndexMapiRK9Allocator"></span><span id="dolfinx::common::Scatterer::Scatterer__IndexMapCR.i.AllocatorCR"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a29c2903e3f04986f47bf3b740e5d8742"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Scatterer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer::Allocator"><span class="n"><span class="pre">Allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">alloc</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer::Allocator"><span class="n"><span class="pre">Allocator</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer9ScattererERK8IndexMapiRK9Allocator" title="Link to this definition"></a><br /></dt>
<dd><p>Create a scatterer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map</strong> – <strong>[in]</strong> The index map that describes the parallel layout of data. </p></li>
<li><p><strong>bs</strong> – <strong>[in]</strong> The block size of data associated with each index in <code class="docutils literal notranslate"><span class="pre">map</span></code> that will be scattered/gathered. </p></li>
<li><p><strong>alloc</strong> – <strong>[in]</strong> The memory allocator for indices. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE">
<span id="_CPPv3I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span id="_CPPv2I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a97ba74a02deb43521d8967f09145afd0"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_fwd_begin</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">send_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">recv_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span>, <a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer"><span class="n"><span class="pre">Scatterer</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer4typeE" title="dolfinx::common::Scatterer::type"><span class="n"><span class="pre">type</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::type"><span class="n"><span class="pre">type</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">neighbor</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Start a non-blocking send of owned data to ranks that ghost the data. </p>
<p>The communication is completed by calling <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f92b45503d87705613aba9c3b09adb"><span class="std std-ref">Scatterer::scatter_fwd_end</span></a>. The send and receive buffer should not be changed until after <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f92b45503d87705613aba9c3b09adb"><span class="std std-ref">Scatterer::scatter_fwd_end</span></a> has been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>send_buffer</strong> – <strong>[in]</strong> Local data associated with each owned local index to be sent to process where the data is ghosted. It must not be changed until after a call to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f92b45503d87705613aba9c3b09adb"><span class="std std-ref">Scatterer::scatter_fwd_end</span></a>. The order of data in the buffer is given by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1ab2e23c4ccbb7c301affc602c91694b4a"><span class="std std-ref">Scatterer::local_indices</span></a>. </p></li>
<li><p><strong>recv_buffer</strong> – A buffer used for the received data. The position of ghost entries in the buffer is given by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1ae20286d5873bb9136c97b95611ac2bf6"><span class="std std-ref">Scatterer::remote_indices</span></a>. The buffer must not be accessed or changed until after a call to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f92b45503d87705613aba9c3b09adb"><span class="std std-ref">Scatterer::scatter_fwd_end</span></a>. </p></li>
<li><p><strong>requests</strong> – The MPI request handle for tracking the status of the non-blocking communication </p></li>
<li><p><strong>type</strong> – <strong>[in]</strong> The type of MPI communication pattern used by the <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a>, either Scatterer::type::neighbor or Scatterer::type::p2p. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer15scatter_fwd_endENSt4spanI11MPI_RequestEE">
<span id="_CPPv3NK7dolfinx6common9Scatterer15scatter_fwd_endENSt4spanI11MPI_RequestEE"></span><span id="_CPPv2NK7dolfinx6common9Scatterer15scatter_fwd_endENSt4spanI11MPI_RequestEE"></span><span id="dolfinx::common::Scatterer::scatter_fwd_end__std::span:MPI_Request:C"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f92b45503d87705613aba9c3b09adb"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_fwd_end</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer15scatter_fwd_endENSt4spanI11MPI_RequestEE" title="Link to this definition"></a><br /></dt>
<dd><p>Complete a non-blocking send from the local owner to process ranks that have the index as a ghost. </p>
<p>This function completes the communication started by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a97ba74a02deb43521d8967f09145afd0"><span class="std std-ref">Scatterer::scatter_fwd_begin</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>requests</strong> – <strong>[in]</strong> The MPI request handle for tracking the status of the send </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE">
<span id="_CPPv3I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span id="_CPPv2I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Functor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1ad404596579cdd881bb5a0b9dbf74d77a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_fwd_begin</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_data</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">remote_buffer</span></span>, <a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::Functor"><span class="n"><span class="pre">Functor</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">pack_fn</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span>, <a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer"><span class="n"><span class="pre">Scatterer</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer4typeE" title="dolfinx::common::Scatterer::type"><span class="n"><span class="pre">type</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_fwd_begin::type"><span class="n"><span class="pre">type</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">neighbor</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Scatter data associated with owned indices to ghosting ranks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is intended for advanced usage, and in particular when using CUDA/device-aware MPI.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_data</strong> – <strong>[in]</strong> All data associated with owned indices. Size is <code class="docutils literal notranslate"><span class="pre">size_local()</span></code> from the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> used to create the scatterer, multiplied by the block size. The data for each index is blocked. </p></li>
<li><p><strong>local_buffer</strong> – <strong>[in]</strong> Working buffer. The required size is given by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a3585fed2915ee674c53ffc033dff13ea"><span class="std std-ref">Scatterer::local_buffer_size</span></a>. </p></li>
<li><p><strong>remote_buffer</strong> – <strong>[out]</strong> Working buffer. The required size is given by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a33e220dfb4400b7ed260dba7fff25220"><span class="std std-ref">Scatterer::remote_buffer_size</span></a>. </p></li>
<li><p><strong>pack_fn</strong> – <strong>[in]</strong> Function to pack data from <code class="docutils literal notranslate"><span class="pre">local_data</span></code> into the send buffer. It is passed as an argument to support CUDA/device-aware MPI. </p></li>
<li><p><strong>requests</strong> – <strong>[in]</strong> The MPI request handle for tracking the status of the send </p></li>
<li><p><strong>type</strong> – <strong>[in]</strong> The type of MPI communication pattern used by the <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a>, either Scatterer::type::neighbor or Scatterer::type::p2p. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00ENK7dolfinx6common9Scatterer15scatter_fwd_endEvNSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE">
<span id="_CPPv3I00ENK7dolfinx6common9Scatterer15scatter_fwd_endENSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE"></span><span id="_CPPv2I00ENK7dolfinx6common9Scatterer15scatter_fwd_endENSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Functor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a4824acfcf5ac8d0af86e5cdbb524f567"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_fwd_end</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer15scatter_fwd_endEvNSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_fwd_end::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">remote_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer15scatter_fwd_endEvNSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_fwd_end::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">remote_data</span></span>, <a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer15scatter_fwd_endEvNSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_fwd_end::Functor"><span class="n"><span class="pre">Functor</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">unpack_fn</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I00ENK7dolfinx6common9Scatterer15scatter_fwd_endEvNSt4spanIK1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEE" title="Link to this definition"></a><br /></dt>
<dd><p>Complete a non-blocking send from the local owner to process ranks that have the index as a ghost, and unpack received buffer into remote data. </p>
<p>This function completes the communication started by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a97ba74a02deb43521d8967f09145afd0"><span class="std std-ref">Scatterer::scatter_fwd_begin</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>remote_buffer</strong> – <strong>[in]</strong> Working buffer, same used in <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a97ba74a02deb43521d8967f09145afd0"><span class="std std-ref">Scatterer::scatter_fwd_begin</span></a>. </p></li>
<li><p><strong>remote_data</strong> – <strong>[out]</strong> Received data associated with the ghost indices. The order follows the order of the ghost indices in the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> used to create the scatterer. The size equal to the number of ghosts in the index map multiplied by the block size. The data for each index is blocked. </p></li>
<li><p><strong>unpack_fn</strong> – <strong>[in]</strong> Function to unpack the received buffer into <code class="docutils literal notranslate"><span class="pre">remote_data</span></code>. It is passed as an argument to support CUDA/device-aware MPI. </p></li>
<li><p><strong>requests</strong> – <strong>[in]</strong> The MPI request handle for tracking the status of the send </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common9Scatterer11scatter_fwdEvNSt4spanIK1TEENSt4spanI1TEE">
<span id="_CPPv3I0ENK7dolfinx6common9Scatterer11scatter_fwdENSt4spanIK1TEENSt4spanI1TEE"></span><span id="_CPPv2I0ENK7dolfinx6common9Scatterer11scatter_fwdENSt4spanIK1TEENSt4spanI1TEE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a26d18b26ad297bae11412113792a2440"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_fwd</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer11scatter_fwdEvNSt4spanIK1TEENSt4spanI1TEE" title="dolfinx::common::Scatterer::scatter_fwd::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_data</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer11scatter_fwdEvNSt4spanIK1TEENSt4spanI1TEE" title="dolfinx::common::Scatterer::scatter_fwd::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">remote_data</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common9Scatterer11scatter_fwdEvNSt4spanIK1TEENSt4spanI1TEE" title="Link to this definition"></a><br /></dt>
<dd><p>Scatter data associated with owned indices to ghosting ranks. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_data</strong> – <strong>[in]</strong> All data associated with owned indices. Size is <code class="docutils literal notranslate"><span class="pre">size_local()</span></code> from the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> used to create the scatterer, multiplied by the block size. The data for each index is blocked </p></li>
<li><p><strong>remote_data</strong> – <strong>[out]</strong> Received data associated with the ghost indices. The order follows the order of the ghost indices in the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> used to create the scatterer. The size equal to the number of ghosts in the index map multiplied by the block size. The data for each index is blocked. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE">
<span id="_CPPv3I0ENK7dolfinx6common9Scatterer17scatter_rev_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span id="_CPPv2I0ENK7dolfinx6common9Scatterer17scatter_rev_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_rev_begin</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">send_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">recv_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span>, <a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer"><span class="n"><span class="pre">Scatterer</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer4typeE" title="dolfinx::common::Scatterer::type"><span class="n"><span class="pre">type</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::type"><span class="n"><span class="pre">type</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">neighbor</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Start a non-blocking send of ghost data to ranks that own the data. </p>
<p>The communication is completed by calling <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a88d36877ba1c8d2add4452b05da91542"><span class="std std-ref">Scatterer::scatter_rev_end</span></a>. The send and receive buffers should not be changed until after <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a88d36877ba1c8d2add4452b05da91542"><span class="std std-ref">Scatterer::scatter_rev_end</span></a> has been called.</p>
<p>
The buffer must not be accessed or changed until after a call to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f92b45503d87705613aba9c3b09adb"><span class="std std-ref">Scatterer::scatter_fwd_end</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>send_buffer</strong> – <strong>[in]</strong> Data associated with each ghost index. This data is sent to process that owns the index. It must not be changed until after a call to Scatterer::scatter_ref_end. </p></li>
<li><p><strong>recv_buffer</strong> – Buffer used for the received data. The position of owned indices in the buffer is given by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1ab2e23c4ccbb7c301affc602c91694b4a"><span class="std std-ref">Scatterer::local_indices</span></a>. Scatterer::local_displacements()[i] is the location of the first entry in <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code> received from neighbourhood rank i. The number of entries received from neighbourhood rank i is Scatterer::local_displacements()[i + 1] - Scatterer::local_displacements()[i]. <code class="docutils literal notranslate"><span class="pre">recv_buffer[j]</span></code> is the data associated with the index <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1ab2e23c4ccbb7c301affc602c91694b4a"><span class="std std-ref">Scatterer::local_indices()</span></a>[j] in the index map.</p></li>
<li><p><strong>requests</strong> – The MPI request handle for tracking the status of the non-blocking communication </p></li>
<li><p><strong>type</strong> – <strong>[in]</strong> The type of MPI communication pattern used by the <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a>, either Scatterer::type::neighbor or Scatterer::type::p2p. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer15scatter_rev_endENSt4spanI11MPI_RequestEE">
<span id="_CPPv3NK7dolfinx6common9Scatterer15scatter_rev_endENSt4spanI11MPI_RequestEE"></span><span id="_CPPv2NK7dolfinx6common9Scatterer15scatter_rev_endENSt4spanI11MPI_RequestEE"></span><span id="dolfinx::common::Scatterer::scatter_rev_end__std::span:MPI_Request:C"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a88d36877ba1c8d2add4452b05da91542"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_rev_end</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">request</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer15scatter_rev_endENSt4spanI11MPI_RequestEE" title="Link to this definition"></a><br /></dt>
<dd><p>End the reverse scatter communication. </p>
<p>This function must be called after <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"><span class="std std-ref">Scatterer::scatter_rev_begin</span></a>. The buffers passed to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"><span class="std std-ref">Scatterer::scatter_rev_begin</span></a> must not be modified until after the function has been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – <strong>[in]</strong> The handle used when calling <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"><span class="std std-ref">Scatterer::scatter_rev_begin</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE">
<span id="_CPPv3I00ENK7dolfinx6common9Scatterer17scatter_rev_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span id="_CPPv2I00ENK7dolfinx6common9Scatterer17scatter_rev_beginENSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Functor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1aa3bbcd1e4355ca106865139e1051c642"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_rev_begin</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">remote_data</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">remote_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_buffer</span></span>, <a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::Functor"><span class="n"><span class="pre">Functor</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">pack_fn</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">request</span></span>, <a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer"><span class="n"><span class="pre">Scatterer</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer4typeE" title="dolfinx::common::Scatterer::type"><span class="n"><span class="pre">type</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="dolfinx::common::Scatterer::scatter_rev_begin::type"><span class="n"><span class="pre">type</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">neighbor</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I00ENK7dolfinx6common9Scatterer17scatter_rev_beginEvNSt4spanIK1TEENSt4spanI1TEENSt4spanI1TEE7FunctorNSt4spanI11MPI_RequestEEN9Scatterer4typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Scatter data associated with ghost indices to owning ranks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is intended for advanced usage, and in particular when using CUDA/device-aware MPI.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – The data type to send </p></li>
<li><p><strong>BinaryOp</strong> – The reduction to perform when reducing data received from ghosting ranks to the value associated with the index on the owner </p></li>
<li><p><strong>Functor1</strong> – The pack function </p></li>
<li><p><strong>Functor2</strong> – The unpack function</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>remote_data</strong> – <strong>[in]</strong> Received data associated with the ghost indices. The order follows the order of the ghost indices in the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> used to create the scatterer. The size equal to the number of ghosts in the index map multiplied by the block size. The data for each index is blocked. </p></li>
<li><p><strong>local_buffer</strong> – <strong>[out]</strong> Working buffer. The requires size is given by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a3585fed2915ee674c53ffc033dff13ea"><span class="std std-ref">Scatterer::local_buffer_size</span></a>. </p></li>
<li><p><strong>remote_buffer</strong> – <strong>[out]</strong> Working buffer. The requires size is given by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a33e220dfb4400b7ed260dba7fff25220"><span class="std std-ref">Scatterer::remote_buffer_size</span></a>. </p></li>
<li><p><strong>pack_fn</strong> – <strong>[in]</strong> Function to pack data from <code class="docutils literal notranslate"><span class="pre">local_data</span></code> into the send buffer. It is passed as an argument to support CUDA/device-aware MPI. </p></li>
<li><p><strong>request</strong> – The MPI request handle for tracking the status of the non-blocking communication </p></li>
<li><p><strong>type</strong> – <strong>[in]</strong> The type of MPI communication pattern used by the <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a>, either Scatterer::type::neighbor or Scatterer::type::p2p. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I000EN7dolfinx6common9Scatterer15scatter_rev_endEvNSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE">
<span id="_CPPv3I000EN7dolfinx6common9Scatterer15scatter_rev_endENSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE"></span><span id="_CPPv2I000EN7dolfinx6common9Scatterer15scatter_rev_endENSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Functor</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BinaryOp</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1ad019821082c7ad4b9f223f61c5ea981e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_rev_end</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I000EN7dolfinx6common9Scatterer15scatter_rev_endEvNSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_rev_end::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I000EN7dolfinx6common9Scatterer15scatter_rev_endEvNSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_rev_end::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_data</span></span>, <a class="reference internal" href="#_CPPv4I000EN7dolfinx6common9Scatterer15scatter_rev_endEvNSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_rev_end::Functor"><span class="n"><span class="pre">Functor</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">unpack_fn</span></span>, <a class="reference internal" href="#_CPPv4I000EN7dolfinx6common9Scatterer15scatter_rev_endEvNSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_rev_end::BinaryOp"><span class="n"><span class="pre">BinaryOp</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">op</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">request</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I000EN7dolfinx6common9Scatterer15scatter_rev_endEvNSt4spanIK1TEENSt4spanI1TEE7Functor8BinaryOpNSt4spanI11MPI_RequestEE" title="Link to this definition"></a><br /></dt>
<dd><p>End the reverse scatter communication, and unpack the received local buffer into local data. </p>
<p>This function must be called after <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"><span class="std std-ref">Scatterer::scatter_rev_begin</span></a>. The buffers passed to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"><span class="std std-ref">Scatterer::scatter_rev_begin</span></a> must not be modified until after the function has been called. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_buffer</strong> – <strong>[in]</strong> Working buffer. Same buffer should be used in <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"><span class="std std-ref">Scatterer::scatter_rev_begin</span></a>. </p></li>
<li><p><strong>local_data</strong> – <strong>[out]</strong> All data associated with owned indices. Size is <code class="docutils literal notranslate"><span class="pre">size_local()</span></code> from the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> used to create the scatterer, multiplied by the block size. The data for each index is blocked. </p></li>
<li><p><strong>unpack_fn</strong> – <strong>[in]</strong> Function to unpack the receive buffer into <code class="docutils literal notranslate"><span class="pre">local_data</span></code>. It is passed as an argument to support CUDA/device-aware MPI. </p></li>
<li><p><strong>op</strong> – <strong>[in]</strong> The reduction operation when accumulating received values. To add the received values use <code class="docutils literal notranslate"><span class="pre">std::plus&lt;T&gt;()</span></code>. </p></li>
<li><p><strong>request</strong> – <strong>[in]</strong> The handle used when calling <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1af01f4eb05abd41663f5ebf7ea14b0187"><span class="std std-ref">Scatterer::scatter_rev_begin</span></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx6common9Scatterer11scatter_revEvNSt4spanI1TEENSt4spanIK1TEE8BinaryOp">
<span id="_CPPv3I00EN7dolfinx6common9Scatterer11scatter_revENSt4spanI1TEENSt4spanIK1TEE8BinaryOp"></span><span id="_CPPv2I00EN7dolfinx6common9Scatterer11scatter_revENSt4spanI1TEENSt4spanIK1TEE8BinaryOp"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BinaryOp</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1ae2eb158dbee4f22a79b1ce407e6b40eb"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_rev</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common9Scatterer11scatter_revEvNSt4spanI1TEENSt4spanIK1TEE8BinaryOp" title="dolfinx::common::Scatterer::scatter_rev::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_data</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common9Scatterer11scatter_revEvNSt4spanI1TEENSt4spanIK1TEE8BinaryOp" title="dolfinx::common::Scatterer::scatter_rev::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">remote_data</span></span>, <a class="reference internal" href="#_CPPv4I00EN7dolfinx6common9Scatterer11scatter_revEvNSt4spanI1TEENSt4spanIK1TEE8BinaryOp" title="dolfinx::common::Scatterer::scatter_rev::BinaryOp"><span class="n"><span class="pre">BinaryOp</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">op</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN7dolfinx6common9Scatterer11scatter_revEvNSt4spanI1TEENSt4spanIK1TEE8BinaryOp" title="Link to this definition"></a><br /></dt>
<dd><p>Scatter data associated with ghost indices to ranks that own the indices. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer17local_buffer_sizeEv">
<span id="_CPPv3NK7dolfinx6common9Scatterer17local_buffer_sizeEv"></span><span id="_CPPv2NK7dolfinx6common9Scatterer17local_buffer_sizeEv"></span><span id="dolfinx::common::Scatterer::local_buffer_sizeC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a3585fed2915ee674c53ffc033dff13ea"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">local_buffer_size</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer17local_buffer_sizeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Size of buffer for local data (owned and shared) used in forward and reverse communication. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The required buffer size </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer18remote_buffer_sizeEv">
<span id="_CPPv3NK7dolfinx6common9Scatterer18remote_buffer_sizeEv"></span><span id="_CPPv2NK7dolfinx6common9Scatterer18remote_buffer_sizeEv"></span><span id="dolfinx::common::Scatterer::remote_buffer_sizeC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a33e220dfb4400b7ed260dba7fff25220"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">remote_buffer_size</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer18remote_buffer_sizeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Buffer size for remote data (ghosts) used in forward and reverse communication. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The required buffer size </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer13local_indicesEv">
<span id="_CPPv3NK7dolfinx6common9Scatterer13local_indicesEv"></span><span id="_CPPv2NK7dolfinx6common9Scatterer13local_indicesEv"></span><span id="dolfinx::common::Scatterer::local_indicesC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1ab2e23c4ccbb7c301affc602c91694b4a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">local_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer13local_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Return a vector of local indices (owned) used to pack/unpack local data. These indices are grouped by neighbor process (process for which an index is a ghost). </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer14remote_indicesEv">
<span id="_CPPv3NK7dolfinx6common9Scatterer14remote_indicesEv"></span><span id="_CPPv2NK7dolfinx6common9Scatterer14remote_indicesEv"></span><span id="dolfinx::common::Scatterer::remote_indicesC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1ae20286d5873bb9136c97b95611ac2bf6"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">remote_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer14remote_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Return a vector of remote indices (ghosts) used to pack/unpack ghost data. These indices are grouped by neighbor process (ghost owners). </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer2bsEv">
<span id="_CPPv3NK7dolfinx6common9Scatterer2bsEv"></span><span id="_CPPv2NK7dolfinx6common9Scatterer2bsEv"></span><span id="dolfinx::common::Scatterer::bsC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1ae871aafbf2303beaf6b19cedb13c4179"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bs</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer2bsEv" title="Link to this definition"></a><br /></dt>
<dd><p>The number values (block size) to send per index in the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">common::IndexMap</span></a> use to create the scatterer. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The block size </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer21create_request_vectorEN9Scatterer4typeE">
<span id="_CPPv3N7dolfinx6common9Scatterer21create_request_vectorEN9Scatterer4typeE"></span><span id="_CPPv2N7dolfinx6common9Scatterer21create_request_vectorEN9Scatterer4typeE"></span><span id="dolfinx::common::Scatterer::create_request_vector__Scatterer::type"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a017978022ea017b4e8e8430877c51bfa"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_request_vector</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer"><span class="n"><span class="pre">Scatterer</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer4typeE" title="dolfinx::common::Scatterer::type"><span class="n"><span class="pre">type</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer21create_request_vectorEN9Scatterer4typeE" title="dolfinx::common::Scatterer::create_request_vector::type"><span class="n"><span class="pre">type</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">neighbor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer21create_request_vectorEN9Scatterer4typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Create a vector of MPI_Requests for a given <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a7aead736a07eaf25623ad7bfa1f0ee2d"><span class="std std-ref">Scatterer::type</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of MPI requests </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLoggerE">
<span id="_CPPv3N7dolfinx6common10TimeLoggerE"></span><span id="_CPPv2N7dolfinx6common10TimeLoggerE"></span><span id="dolfinx::common::TimeLogger"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TimeLogger</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLoggerE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;TimeLogger.h&gt;</em></div>
<p><a class="reference internal" href="#d4/d40/classdolfinx_1_1common_1_1Timer"><span class="std std-ref">Timer</span></a> logging. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLogger10TimeLoggerEv">
<span id="_CPPv3N7dolfinx6common10TimeLogger10TimeLoggerEv"></span><span id="_CPPv2N7dolfinx6common10TimeLogger10TimeLoggerEv"></span><span id="dolfinx::common::TimeLogger::TimeLogger"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1a0d6fac814f6ecbccf5f23f66947e4b2a"></span><span class="sig-name descname"><span class="n"><span class="pre">TimeLogger</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLogger10TimeLoggerEv" title="Link to this definition"></a><br /></dt>
<dd><p>Constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLoggerD0Ev">
<span id="_CPPv3N7dolfinx6common10TimeLoggerD0Ev"></span><span id="_CPPv2N7dolfinx6common10TimeLoggerD0Ev"></span><span id="dolfinx::common::TimeLogger::~TimeLogger"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1a0a4722054ed572c65a28a37e1ba3996d"></span><span class="sig-name descname"><span class="n"><span class="pre">~TimeLogger</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLoggerD0Ev" title="Link to this definition"></a><br /></dt>
<dd><p>Destructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLogger15register_timingENSt6stringEddd">
<span id="_CPPv3N7dolfinx6common10TimeLogger15register_timingENSt6stringEddd"></span><span id="_CPPv2N7dolfinx6common10TimeLogger15register_timingENSt6stringEddd"></span><span id="dolfinx::common::TimeLogger::register_timing__ss.double.double.double"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1aae33b160ef031ac5b72fc415d3ceb01e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">register_timing</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">task</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">wall</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">user</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">system</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLogger15register_timingENSt6stringEddd" title="Link to this definition"></a><br /></dt>
<dd><p>Register timing (for later summary) </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLogger7timingsENSt3setI10TimingTypeEE">
<span id="_CPPv3N7dolfinx6common10TimeLogger7timingsENSt3setI10TimingTypeEE"></span><span id="_CPPv2N7dolfinx6common10TimeLogger7timingsENSt3setI10TimingTypeEE"></span><span id="dolfinx::common::TimeLogger::timings__std::set:TimingType:"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1a3a493ef6cdf43f52ea2bdbdbf20b5e9a"></span><span class="n"><span class="pre">Table</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timings</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">set</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">TimingType</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLogger7timingsENSt3setI10TimingTypeEE" title="Link to this definition"></a><br /></dt>
<dd><p>Return a summary of timings and tasks in a Table. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLogger12list_timingsE8MPI_CommNSt3setI10TimingTypeEEN5Table9ReductionE">
<span id="_CPPv3N7dolfinx6common10TimeLogger12list_timingsE8MPI_CommNSt3setI10TimingTypeEEN5Table9ReductionE"></span><span id="_CPPv2N7dolfinx6common10TimeLogger12list_timingsE8MPI_CommNSt3setI10TimingTypeEEN5Table9ReductionE"></span><span id="dolfinx::common::TimeLogger::list_timings__MPI_Comm.std::set:TimingType:.Table::Reduction"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1a1fb6f599245cf17356d265381fc2f99a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">list_timings</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">set</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">TimingType</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span>, <span class="n"><span class="pre">Table</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Reduction</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">reduction</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLogger12list_timingsE8MPI_CommNSt3setI10TimingTypeEEN5Table9ReductionE" title="Link to this definition"></a><br /></dt>
<dd><p>List a summary of timings and tasks. Reduction type is printed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – MPI Communicator </p></li>
<li><p><strong>type</strong> – Set of possible timings: wall, user or system </p></li>
<li><p><strong>reduction</strong> – Reduction type (min, max or average) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLogger6timingENSt6stringE">
<span id="_CPPv3N7dolfinx6common10TimeLogger6timingENSt6stringE"></span><span id="_CPPv2N7dolfinx6common10TimeLogger6timingENSt6stringE"></span><span id="dolfinx::common::TimeLogger::timing__ss"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1a1b21c8a81721a61db9a44d50b9767310"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">tuple</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timing</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">task</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLogger6timingENSt6stringE" title="Link to this definition"></a><br /></dt>
<dd><p>Return timing. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task</strong> – <strong>[in]</strong> The task name to retrieve the timing for </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Values (count, total wall time, total user time, total system time) for given task. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common14TimeLogManagerE">
<span id="_CPPv3N7dolfinx6common14TimeLogManagerE"></span><span id="_CPPv2N7dolfinx6common14TimeLogManagerE"></span><span id="dolfinx::common::TimeLogManager"></span><span class="target" id="de/ddd/classdolfinx_1_1common_1_1TimeLogManager"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TimeLogManager</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common14TimeLogManagerE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;TimeLogManager.h&gt;</em></div>
<p>Logger initialisation. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common14TimeLogManager6loggerEv">
<span id="_CPPv3N7dolfinx6common14TimeLogManager6loggerEv"></span><span id="_CPPv2N7dolfinx6common14TimeLogManager6loggerEv"></span><span id="dolfinx::common::TimeLogManager::logger"></span><span class="target" id="de/ddd/classdolfinx_1_1common_1_1TimeLogManager_1a8bbc407343cd70c55b03f9ee4a699bbf"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLoggerE" title="dolfinx::common::TimeLogger"><span class="n"><span class="pre">TimeLogger</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">logger</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common14TimeLogManager6loggerEv" title="Link to this definition"></a><br /></dt>
<dd><p>Singleton instance of logger. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5TimerE">
<span id="_CPPv3N7dolfinx6common5TimerE"></span><span id="_CPPv2N7dolfinx6common5TimerE"></span><span id="dolfinx::common::Timer"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Timer</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common5TimerE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;Timer.h&gt;</em></div>
<p>A timer can be used for timing tasks. The basic usage is. </p>
<p><a class="reference internal" href="#d4/d40/classdolfinx_1_1common_1_1Timer"><span class="std std-ref">Timer</span></a> timer(“Assembling over cells”);</p>
<p>The timer is started at construction and timing ends when the timer is destroyed (goes out of scope). It is also possible to start and stop a timer explicitly by</p>
<p>timer.start(); timer.stop();</p>
<p>Timings are stored globally and a summary may be printed by calling</p>
<p>list_timings(); </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer5TimerEv">
<span id="_CPPv3N7dolfinx6common5Timer5TimerEv"></span><span id="_CPPv2N7dolfinx6common5Timer5TimerEv"></span><span id="dolfinx::common::Timer::Timer"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a6a8bc5014802d569f6d01c4f36121a81"></span><span class="sig-name descname"><span class="n"><span class="pre">Timer</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer5TimerEv" title="Link to this definition"></a><br /></dt>
<dd><p>Create timer without logging. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer5TimerERKNSt6stringE">
<span id="_CPPv3N7dolfinx6common5Timer5TimerERKNSt6stringE"></span><span id="_CPPv2N7dolfinx6common5Timer5TimerERKNSt6stringE"></span><span id="dolfinx::common::Timer::Timer__ssCR"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a361f74958b6f26d4fa4b203b1dc26569"></span><span class="sig-name descname"><span class="n"><span class="pre">Timer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">task</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer5TimerERKNSt6stringE" title="Link to this definition"></a><br /></dt>
<dd><p>Create timer with logging. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5TimerD0Ev">
<span id="_CPPv3N7dolfinx6common5TimerD0Ev"></span><span id="_CPPv2N7dolfinx6common5TimerD0Ev"></span><span id="dolfinx::common::Timer::~Timer"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a4f8a8b0b7dca75172a8e036314ad1794"></span><span class="sig-name descname"><span class="n"><span class="pre">~Timer</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5TimerD0Ev" title="Link to this definition"></a><br /></dt>
<dd><p>Destructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer5startEv">
<span id="_CPPv3N7dolfinx6common5Timer5startEv"></span><span id="_CPPv2N7dolfinx6common5Timer5startEv"></span><span id="dolfinx::common::Timer::start"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a60de64d75454385b23995437f1d72669"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer5startEv" title="Link to this definition"></a><br /></dt>
<dd><p>Zero and start timer. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer6resumeEv">
<span id="_CPPv3N7dolfinx6common5Timer6resumeEv"></span><span id="_CPPv2N7dolfinx6common5Timer6resumeEv"></span><span id="dolfinx::common::Timer::resume"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a41de8150eff044a237990c271d57ea27"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">resume</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer6resumeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Resume timer. Not well-defined for logging timer. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer4stopEv">
<span id="_CPPv3N7dolfinx6common5Timer4stopEv"></span><span id="_CPPv2N7dolfinx6common5Timer4stopEv"></span><span id="dolfinx::common::Timer::stop"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a0041a7a576355baa3259e96e9f0e4eb3"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stop</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer4stopEv" title="Link to this definition"></a><br /></dt>
<dd><p>Stop timer, return wall time elapsed and store timing data into logger. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common5Timer7elapsedEv">
<span id="_CPPv3NK7dolfinx6common5Timer7elapsedEv"></span><span id="_CPPv2NK7dolfinx6common5Timer7elapsedEv"></span><span id="dolfinx::common::Timer::elapsedC"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1ac08ab25054d926a3298bc7251e3c4762"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">elapsed</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common5Timer7elapsedEv" title="Link to this definition"></a><br /></dt>
<dd><p>Return wall, user and system time in seconds. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="DOLFINx C++ API documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geometry.html" class="btn btn-neutral float-right" title="Geometry (dolfinx::geometry)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, FEniCS Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>