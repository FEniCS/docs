

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Common (dolfinx::common) &mdash; DOLFINx 0.3.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=4621528c"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Geometry (dolfinx::geometry)" href="geometry.html" />
    <link rel="prev" title="API documentation" href="api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            DOLFINx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="demo.html">Demos</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Common (<code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N7dolfinx6commonE"><code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common13IndexMapOrderE"><code class="docutils literal notranslate"><span class="pre">IndexMapOrder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap"><code class="docutils literal notranslate"><span class="pre">compute_owned_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE"><code class="docutils literal notranslate"><span class="pre">stack_index_maps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEE13IndexMapOrderb"><code class="docutils literal notranslate"><span class="pre">create_sub_index_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V"><code class="docutils literal notranslate"><span class="pre">sort_unique()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T"><code class="docutils literal notranslate"><span class="pre">hash_local()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T"><code class="docutils literal notranslate"><span class="pre">hash_global()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common12comm_to_jsonERKN5graph13AdjacencyListINSt5tupleIiNSt6size_tENSt6int8_tEEENSt4pairINSt7int32_tENSt7int32_tEEEEE"><code class="docutils literal notranslate"><span class="pre">comm_to_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE"><code class="docutils literal notranslate"><span class="pre">dolfinx::common::IndexMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE"><code class="docutils literal notranslate"><span class="pre">dolfinx::common::Scatterer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLoggerE"><code class="docutils literal notranslate"><span class="pre">dolfinx::common::TimeLogger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common5TimerE"><code class="docutils literal notranslate"><span class="pre">dolfinx::common::Timer</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="geometry.html">Geometry (<code class="docutils literal notranslate"><span class="pre">dolfinx::geometry</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph.html">Graph (<code class="docutils literal notranslate"><span class="pre">dolfinx::graph</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="fem.html">Finite element (<code class="docutils literal notranslate"><span class="pre">dolfinx::fem</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="io.html">IO (<code class="docutils literal notranslate"><span class="pre">dolfinx::io</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="la.html">Linear algebra (<code class="docutils literal notranslate"><span class="pre">dolfinx::la</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh.html">Mesh (<code class="docutils literal notranslate"><span class="pre">dolfinx::mesh</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="refinement.html">Refinement (<code class="docutils literal notranslate"><span class="pre">dolfinx::refinement</span></code>)</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DOLFINx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="api.html">API documentation</a></li>
      <li class="breadcrumb-item active">Common (<code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code>)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/common.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="common-dolfinx-common">
<h1>Common (<code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code>)<a class="headerlink" href="#common-dolfinx-common" title="Link to this heading"></a></h1>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6commonE">
<span id="_CPPv3N7dolfinx6commonE"></span><span id="_CPPv2N7dolfinx6commonE"></span><span id="dolfinx::common"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">common</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6commonE" title="Link to this definition"></a><br /></dt>
<dd><p>Miscellaneous classes, functions and types. </p>
<p>Generic tools.</p>
<p>This namespace provides utility type functions for managing subsystems, convenience classes and library-wide typedefs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common13IndexMapOrderE">
<span id="_CPPv3N7dolfinx6common13IndexMapOrderE"></span><span id="_CPPv2N7dolfinx6common13IndexMapOrderE"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a85fe08b363fe014c058cdf79d502910f"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IndexMapOrder</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common13IndexMapOrderE" title="Link to this definition"></a><br /></dt>
<dd><p>Enum to control preservation of ghost index ordering in sub-IndexMaps. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common13IndexMapOrder8preserveE">
<span id="_CPPv3N7dolfinx6common13IndexMapOrder8preserveE"></span><span id="_CPPv2N7dolfinx6common13IndexMapOrder8preserveE"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a85fe08b363fe014c058cdf79d502910faec4875cf2d241556a0965f7237864693"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">preserve</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common13IndexMapOrder8preserveE" title="Link to this definition"></a><br /></dt>
<dd><p>Preserve the ordering of ghost indices. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common13IndexMapOrder3anyE">
<span id="_CPPv3N7dolfinx6common13IndexMapOrder3anyE"></span><span id="_CPPv2N7dolfinx6common13IndexMapOrder3anyE"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a85fe08b363fe014c058cdf79d502910fa100b8cad7cf2a56f6df78f171f97a1ec"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">any</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common13IndexMapOrder3anyE" title="Link to this definition"></a><br /></dt>
<dd><p>Allow arbitrary ordering of ghost indices in sub-maps. </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap">
<span id="_CPPv3N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap"></span><span id="_CPPv2N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap"></span><span id="dolfinx::common::compute_owned_indices__std::span:std::int32_tC:.IndexMapCR"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a53546ac2b5250e045e91411cae1b5724"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">compute_owned_indices</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">indices</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common21compute_owned_indicesENSt4spanIKNSt7int32_tEEERK8IndexMap" title="Link to this definition"></a><br /></dt>
<dd><p>Given a sorted list of indices (local indexing, owned or ghost) and an index map, this function returns the indices owned by this process, including indices that might have been in the list of indices on another processes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> – <strong>[in]</strong> List of indices. </p></li>
<li><p><strong>map</strong> – <strong>[in]</strong> The index map. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indices owned by the calling process. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE">
<span id="_CPPv3N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE"></span><span id="_CPPv2N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE"></span><span id="dolfinx::common::stack_index_maps__std::vector:std::pair:std::reference_wrapper:IndexMapC:.i::CR"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1aed477f7f68f03a1a443a50de541cde4a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">tuple</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stack_index_maps</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">reference_wrapper</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">maps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common16stack_index_mapsERKNSt6vectorINSt4pairINSt17reference_wrapperIK8IndexMapEEiEEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Compute layout data and ghost indices for a stacked (concatenated) index map, i.e. ‘splice’ multiple maps into one. </p>
<p>The input maps are concatenated, with indices in <code class="docutils literal notranslate"><span class="pre">maps</span></code> and owned by the caller remaining owned by the caller. Ghost data is stored at the end of the local range as normal, with the ghosts in blocks in the order of the index maps in <code class="docutils literal notranslate"><span class="pre">maps</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Index maps with a block size are unrolled in the data for the concatenated index map. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Communication is required to compute the new ghost indices.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>maps</strong> – <strong>[in]</strong> List of (index map, block size) pairs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The (0) global offset of a concatenated map for the calling rank, (1) local offset for the owned indices of each submap in the concatenated map, (2) new indices for the ghosts for each submap, and (3) owner rank of each ghost entry for each submap. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEE13IndexMapOrderb">
<span id="_CPPv3N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEE13IndexMapOrderb"></span><span id="_CPPv2N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEE13IndexMapOrderb"></span><span id="dolfinx::common::create_sub_index_map__IndexMapCR.std::span:std::int32_tC:.IndexMapOrder.b"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a29b31acd9ffe456626a8c8b3b4013326"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_sub_index_map</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">imap</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">indices</span></span>, <a class="reference internal" href="#_CPPv4N7dolfinx6common13IndexMapOrderE" title="dolfinx::common::IndexMapOrder"><span class="n"><span class="pre">IndexMapOrder</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">order</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common13IndexMapOrderE" title="dolfinx::common::IndexMapOrder"><span class="n"><span class="pre">IndexMapOrder</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N7dolfinx6common13IndexMapOrder3anyE" title="dolfinx::common::IndexMapOrder::any"><span class="n"><span class="pre">any</span></span></a>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">allow_owner_change</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common20create_sub_index_mapERK8IndexMapNSt4spanIKNSt7int32_tEEE13IndexMapOrderb" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new index map from a subset of indices in an existing index map. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>imap</strong> – <strong>[in]</strong> Parent map to create a new sub-map from. </p></li>
<li><p><strong>indices</strong> – <strong>[in]</strong> Local indices in <code class="docutils literal notranslate"><span class="pre">imap</span></code> (owned and ghost) to include in the new index map. </p></li>
<li><p><strong>order</strong> – <strong>[in]</strong> Control the order in which ghost indices appear in the new map. </p></li>
<li><p><strong>allow_owner_change</strong> – <strong>[in]</strong> If <code class="docutils literal notranslate"><span class="pre">true</span></code>, indices that are not included in <code class="docutils literal notranslate"><span class="pre">indices</span></code> by their owning process can be included in <code class="docutils literal notranslate"><span class="pre">indices</span></code> by processes that ghost the indices to be included in the new submap. These indices will be owned by one of the sharing processes in the submap. If <code class="docutils literal notranslate"><span class="pre">false</span></code>, and exception is raised if an index is included by a sharing process and not by the owning process. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The (i) new index map and (ii) a map from local indices in the submap to local indices in the original (this) map. </p>
</dd>
<dt class="field-odd">Pre<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">indices</span></code> must be sorted and must not contain duplicates. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V">
<span id="_CPPv3I00EN7dolfinx6common11sort_uniqueERK1URK1V"></span><span id="_CPPv2I00EN7dolfinx6common11sort_uniqueERK1URK1V"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">U</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">V</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d7/de1/namespacedolfinx_1_1common_1a3d4f61eb18edfadf84cdbb81afe141d5"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::U"><span class="n"><span class="pre">U</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value_type</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::V"><span class="n"><span class="pre">V</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value_type</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sort_unique</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::U"><span class="n"><span class="pre">U</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">indices</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="dolfinx::common::sort_unique::V"><span class="n"><span class="pre">V</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">values</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN7dolfinx6common11sort_uniqueENSt4pairINSt6vectorIN1U10value_typeEEENSt6vectorIN1V10value_typeEEEEERK1URK1V" title="Link to this definition"></a><br /></dt>
<dd><p>Sort two arrays based on the values in array <code class="docutils literal notranslate"><span class="pre">indices</span></code>. </p>
<p>Any duplicate indices and the corresponding value are removed. In the case of duplicates, the entry with the smallest value is retained.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> – <strong>[in]</strong> Array of indices. </p></li>
<li><p><strong>values</strong> – <strong>[in]</strong> Array of values. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted (indices, values), with sorting based on indices. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T">
<span id="_CPPv3I0EN7dolfinx6common10hash_localERK1T"></span><span id="_CPPv2I0EN7dolfinx6common10hash_localERK1T"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d7/de1/namespacedolfinx_1_1common_1af086d214f48b9dc23d8f2fe30d23c1d8"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hash_local</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T" title="dolfinx::common::hash_local::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common10hash_localENSt6size_tERK1T" title="Link to this definition"></a><br /></dt>
<dd><p>Compute a hash of a given object. </p>
<p>The hash is computed using Boost container hash (<a class="reference external" href="https://www.boost.org/doc/libs/release/libs/container_hash/">https://www.boost.org/doc/libs/release/libs/container_hash/</a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – <strong>[in]</strong> The object to compute a hash of. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The hash values. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T">
<span id="_CPPv3I0EN7dolfinx6common11hash_globalE8MPI_CommRK1T"></span><span id="_CPPv2I0EN7dolfinx6common11hash_globalE8MPI_CommRK1T"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d7/de1/namespacedolfinx_1_1common_1abf02a2803d65dfa4ba932e2a32d69d65"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hash_global</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T" title="dolfinx::common::hash_global::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common11hash_globalENSt6size_tE8MPI_CommRK1T" title="Link to this definition"></a><br /></dt>
<dd><p>Compute a hash for a distributed (MPI) object. </p>
<p>A hash is computed on each process for the local part of the object. Then, a hash of the std::vector containing each local hash key in rank order is returned.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> The communicator on which to compute the hash. </p></li>
<li><p><strong>x</strong> – <strong>[in]</strong> The object to compute a hash of. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The hash values. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common12comm_to_jsonERKN5graph13AdjacencyListINSt5tupleIiNSt6size_tENSt6int8_tEEENSt4pairINSt7int32_tENSt7int32_tEEEEE">
<span id="_CPPv3N7dolfinx6common12comm_to_jsonERKN5graph13AdjacencyListINSt5tupleIiNSt6size_tENSt6int8_tEEENSt4pairINSt7int32_tENSt7int32_tEEEEE"></span><span id="_CPPv2N7dolfinx6common12comm_to_jsonERKN5graph13AdjacencyListINSt5tupleIiNSt6size_tENSt6int8_tEEENSt4pairINSt7int32_tENSt7int32_tEEEEE"></span><span id="dolfinx::common::comm_to_json__graph::AdjacencyList:std::tuple:i.std::s.std::int8_t:.std::pair:std::int32_t.std::int32_t::CR"></span><span class="target" id="d7/de1/namespacedolfinx_1_1common_1af5b1778408aad14e1c87c0e0b69c8c89"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">comm_to_json</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="graph.html#_CPPv4I00EN7dolfinx5graph13AdjacencyListE" title="dolfinx::graph::AdjacencyList"><span class="n"><span class="pre">AdjacencyList</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">tuple</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int8_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">g</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common12comm_to_jsonERKN5graph13AdjacencyListINSt5tupleIiNSt6size_tENSt6int8_tEEENSt4pairINSt7int32_tENSt7int32_tEEEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Build communication graph data as a JSON string. </p>
<p>The data string can be decoded (loaded) to create a Python object from which a <a class="reference external" href="https://networkx.org/">NetworkX</a> graph can be constructed.</p>
<p>See ::comm_graph for a description of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>g</strong> – <strong>[in]</strong> Communication graph. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>JSON string representing the communication graph. Edge data is data volume (<code class="docutils literal notranslate"><span class="pre">weight</span></code>) and local/remote memory indicator (<code class="docutils literal notranslate"><span class="pre">local==1</span></code> is an edge to an shared memory process/rank, other wise the target node is a remote memory rank). </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMapE">
<span id="_CPPv3N7dolfinx6common8IndexMapE"></span><span id="_CPPv2N7dolfinx6common8IndexMapE"></span><span id="dolfinx::common::IndexMap"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMapE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;IndexMap.h&gt;</em></div>
<p>This class represents the distribution index arrays across processes. An index array is a contiguous collection of <code class="docutils literal notranslate"><span class="pre">N+1</span></code> indices <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.,</span> <span class="pre">N]</span></code> that are distributed across <code class="docutils literal notranslate"><span class="pre">M</span></code> processes. On a given process, the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> stores a portion of the index set using local indices <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">,</span> <span class="pre">n]</span></code>, and a map from the local indices to a unique global index. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE"></span><span id="dolfinx::common::IndexMap::IndexMap__MPI_Comm.std::int32_t"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1aca5a94a566f0409b98cfb213088c6bbc"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tE" title="Link to this definition"></a><br /></dt>
<dd><p>Create an non-overlapping index map. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> MPI communicator that the index map is distributed across. </p></li>
<li><p><strong>local_size</strong> – <strong>[in]</strong> Local size of the index map, i.e. the number of owned entries. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEEi">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEEi"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEEi"></span><span id="dolfinx::common::IndexMap::IndexMap__MPI_Comm.std::int32_t.std::span:std::int64_tC:.std::span:iC:.i"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1aec5152a3126e45a92b6fe0d83574a7a8"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_size</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ghosts</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">owners</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tag</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">static_cast</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">dolfinx</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MPI</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">consensus_nbx</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tENSt4spanIKNSt7int64_tEEENSt4spanIKiEEi" title="Link to this definition"></a><br /></dt>
<dd><p>Create an overlapping (ghosted) index map. </p>
<p>This constructor uses a ‘consensus’ algorithm to determine the ranks that ghost indices that are owned by the caller. This requires non-trivial MPI communication. If the ranks that ghost indices owned by the caller are known, it more efficient to use the constructor that takes these ranks as an argument.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A tag can sometimes be required when there are a series of calls to this constructor, or other functions that call the consensus algorithm, that are close together. In cases where this constructor is called a second time on rank and another rank has not completed its first consensus algorithm call, communications can be corrupted if each collective call of this constructor does not have its own <code class="docutils literal notranslate"><span class="pre">tag</span></code> value. Each collective call to this constructor must use the same <code class="docutils literal notranslate"><span class="pre">tag</span></code> value. An alternative to passing a tag is to have an implicit or explicit MPI barrier before and after the call to this constructor. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> MPI communicator that the index map is distributed across. </p></li>
<li><p><strong>local_size</strong> – <strong>[in]</strong> Local size of the index map, i.e. the number of owned entries </p></li>
<li><p><strong>ghosts</strong> – <strong>[in]</strong> The global indices of ghost entries </p></li>
<li><p><strong>owners</strong> – <strong>[in]</strong> Owner rank (on <code class="docutils literal notranslate"><span class="pre">comm</span></code>) of each entry in <code class="docutils literal notranslate"><span class="pre">ghosts</span></code></p></li>
<li><p><strong>tag</strong> – <strong>[in]</strong> Tag used in non-blocking MPI calls in the consensus algorithm. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEXL2EEEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEXL2EEEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEX2EEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE"></span><span id="dolfinx::common::IndexMap::IndexMap__MPI_Comm.std::int32_t.std::array:std::vector:i:.2:CR.std::span:std::int64_tC:.std::span:iC:"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a23f4a440e6232bbd0ad58d46ef178671"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src_dest</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ghosts</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">owners</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapE8MPI_CommNSt7int32_tERKNSt5arrayINSt6vectorIiEEXL2EEEENSt4spanIKNSt7int64_tEEENSt4spanIKiEE" title="Link to this definition"></a><br /></dt>
<dd><p>Create an overlapping (ghosted) index map. </p>
<p>This constructor is optimised for the case where the ‘source’ (ranks that own indices ghosted by the caller) and ‘destination’ ranks (ranks that ghost indices owned by the caller) are already available. It allows the complex computation of the destination ranks from <code class="docutils literal notranslate"><span class="pre">owners</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> MPI communicator that the index map is distributed across. </p></li>
<li><p><strong>local_size</strong> – <strong>[in]</strong> Local size of the index map, i.e. the number </p></li>
<li><p><strong>src_dest</strong> – <strong>[in]</strong> Lists of [0] src and [1] dest ranks. The list in each must be sorted and not contain duplicates. <code class="docutils literal notranslate"><span class="pre">src</span></code> ranks are owners of the indices in <code class="docutils literal notranslate"><span class="pre">ghosts</span></code>. <code class="docutils literal notranslate"><span class="pre">dest</span></code> ranks are the rank that ghost indices owned by the caller. </p></li>
<li><p><strong>ghosts</strong> – <strong>[in]</strong> The global indices of ghost entries </p></li>
<li><p><strong>owners</strong> – <strong>[in]</strong> Owner rank (on <code class="docutils literal notranslate"><span class="pre">comm</span></code>) of each entry in <code class="docutils literal notranslate"><span class="pre">ghosts</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMap8IndexMapERR8IndexMap">
<span id="_CPPv3N7dolfinx6common8IndexMap8IndexMapERR8IndexMap"></span><span id="_CPPv2N7dolfinx6common8IndexMap8IndexMapERR8IndexMap"></span><span id="dolfinx::common::IndexMap::IndexMap__IndexMapRR"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a7a154c45377af2cb9ad2ad3f29336400"></span><span class="sig-name descname"><span class="n"><span class="pre">IndexMap</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapERR8IndexMap" title="dolfinx::common::IndexMap::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMap8IndexMapERR8IndexMap" title="Link to this definition"></a><br /></dt>
<dd><p>Move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMapD0Ev">
<span id="_CPPv3N7dolfinx6common8IndexMapD0Ev"></span><span id="_CPPv2N7dolfinx6common8IndexMapD0Ev"></span><span id="dolfinx::common::IndexMap::~IndexMap"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a220b1e61a22c7843de4ef2628a1da8e6"></span><span class="sig-name descname"><span class="n"><span class="pre">~IndexMap</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMapD0Ev" title="Link to this definition"></a><br /></dt>
<dd><p>Destructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common8IndexMapaSERR8IndexMap">
<span id="_CPPv3N7dolfinx6common8IndexMapaSERR8IndexMap"></span><span id="_CPPv2N7dolfinx6common8IndexMapaSERR8IndexMap"></span><span id="dolfinx::common::IndexMap::assign-operator__IndexMapRR"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a7f41c7641e2c07e5887daab544f07781"></span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">=</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common8IndexMapaSERR8IndexMap" title="Link to this definition"></a><br /></dt>
<dd><p>Move assignment. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap11local_rangeEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap11local_rangeEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap11local_rangeEv"></span><span id="dolfinx::common::IndexMap::local_rangeC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a63157950175341cbd1f101820161eba7"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">local_range</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap11local_rangeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Range of indices (global) owned by this process. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap10num_ghostsEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap10num_ghostsEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap10num_ghostsEv"></span><span id="dolfinx::common::IndexMap::num_ghostsC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a35ec5d2c9fe2f2295ffc4677a01ba227"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_ghosts</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap10num_ghostsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Number of ghost indices on this process. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap10size_localEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap10size_localEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap10size_localEv"></span><span id="dolfinx::common::IndexMap::size_localC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a727145464e8650ba64186af91904c10a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size_local</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap10size_localEv" title="Link to this definition"></a><br /></dt>
<dd><p>Number of indices owned by this process. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap11size_globalEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap11size_globalEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap11size_globalEv"></span><span id="dolfinx::common::IndexMap::size_globalC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a7371f4128ac914cbfe23d3604f07ed5a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size_global</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap11size_globalEv" title="Link to this definition"></a><br /></dt>
<dd><p>Number indices across communicator. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap6ghostsEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap6ghostsEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap6ghostsEv"></span><span id="dolfinx::common::IndexMap::ghostsC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1acbb98e72d0f9accd82ced99808533c60"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ghosts</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap6ghostsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Local-to-global map for ghosts (local indexing beyond end of local range) </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap4commEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap4commEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap4commEv"></span><span id="dolfinx::common::IndexMap::commC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1ad3217ebf3e21d7902bf89ab1248dabb9"></span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">comm</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap4commEv" title="Link to this definition"></a><br /></dt>
<dd><p>Return the MPI communicator that the map is defined on. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Communicator </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE">
<span id="_CPPv3NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE"></span><span id="_CPPv2NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE"></span><span id="dolfinx::common::IndexMap::local_to_global__std::span:std::int32_tC:.std::span:std::int64_t:C"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1aaba3e25241843926df1608d82513cca3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">local_to_global</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">global</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap15local_to_globalENSt4spanIKNSt7int32_tEEENSt4spanINSt7int64_tEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Compute global indices for array of local indices. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local</strong> – <strong>[in]</strong> Local indices </p></li>
<li><p><strong>global</strong> – <strong>[out]</strong> The global indices </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE">
<span id="_CPPv3NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE"></span><span id="_CPPv2NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE"></span><span id="dolfinx::common::IndexMap::global_to_local__std::span:std::int64_tC:.std::span:std::int32_t:C"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1abcf69c158f3857c6108a83d5fe281e77"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">global_to_local</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">global</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap15global_to_localENSt4spanIKNSt7int64_tEEENSt4spanINSt7int32_tEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Compute local indices for array of global indices. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – <strong>[in]</strong> Global indices </p></li>
<li><p><strong>local</strong> – <strong>[out]</strong> The local of the corresponding global index in ‘global’. Returns -1 if the local index does not exist on this process. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap14global_indicesEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap14global_indicesEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap14global_indicesEv"></span><span id="dolfinx::common::IndexMap::global_indicesC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1ae6575d9e7089ab0a49e99ee6f193d730"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">global_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap14global_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Build list of indices with global indexing. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The global index for all local indices <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">...)</span></code> on this process, including ghosts </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap6ownersEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap6ownersEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap6ownersEv"></span><span id="dolfinx::common::IndexMap::ownersC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a35ac481195134aa838a97b18e7db8054"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">owners</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap6ownersEv" title="Link to this definition"></a><br /></dt>
<dd><p>The ranks that own each ghost index. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ghost owners. The owning rank of the ith ghost index is <code class="docutils literal notranslate"><a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a35ac481195134aa838a97b18e7db8054"><span class="std std-ref"><span class="pre">owners()</span></span></a><span class="pre">[i]</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap19index_to_dest_ranksEi">
<span id="_CPPv3NK7dolfinx6common8IndexMap19index_to_dest_ranksEi"></span><span id="_CPPv2NK7dolfinx6common8IndexMap19index_to_dest_ranksEi"></span><span id="dolfinx::common::IndexMap::index_to_dest_ranks__iC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1acdc28083955fd65aa748ac12bde37dd8"></span><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="graph.html#_CPPv4I00EN7dolfinx5graph13AdjacencyListE" title="dolfinx::graph::AdjacencyList"><span class="n"><span class="pre">AdjacencyList</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">index_to_dest_ranks</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tag</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">static_cast</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">dolfinx</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MPI</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">consensus_nbx</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap19index_to_dest_ranksEi" title="Link to this definition"></a><br /></dt>
<dd><p>Compute map from each local (owned) index to the set of ranks that have the index as a ghost. </p>
<p><dl>
<dt class="sig sig-object cpp">
<em><span class="pre">Todo:</span></em></dt>
<dd><p>Aim to remove this function?</p>
</dd></dl>

</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1aec5152a3126e45a92b6fe0d83574a7a8"><span class="std std-ref">IndexMap(MPI_Comm,std::int32_t,std::span&lt;conststd::int64_t&gt;,std::span&lt;const int&gt;,int)</span></a> for an explanation of when <code class="docutils literal notranslate"><span class="pre">tag</span></code> is required. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tag</strong> – <strong>[in]</strong> Tag to pass to MPI calls. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Shared indices. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap14shared_indicesEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap14shared_indicesEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap14shared_indicesEv"></span><span id="dolfinx::common::IndexMap::shared_indicesC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1ad06d0a54c6f460905826340bf1de7496"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shared_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap14shared_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Build a list of owned indices that are ghosted by another rank. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The local index of owned indices that are ghosts on other rank(s). The indices are unique and sorted. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap3srcEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap3srcEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap3srcEv"></span><span id="dolfinx::common::IndexMap::srcC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a9b986fe6d2ee40f59fbe881ccd92b69b"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">src</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap3srcEv" title="Link to this definition"></a><br /></dt>
<dd><p>Ordered set of MPI ranks that own caller’s ghost indices. </p>
<p>Typically used when creating neighbourhood communicators.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>MPI ranks than own ghost indices. The ranks are unique and sorted. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap4destEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap4destEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap4destEv"></span><span id="dolfinx::common::IndexMap::destC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a41bc0b350e01d55645f06fccb4aacda9"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dest</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap4destEv" title="Link to this definition"></a><br /></dt>
<dd><p>Ordered set of MPI ranks that ghost indices owned by caller. </p>
<p>Typically used when creating neighbourhood communicators.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>MPI ranks than own ghost indices. The ranks are unique and sorted. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap11weights_srcEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap11weights_srcEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap11weights_srcEv"></span><span id="dolfinx::common::IndexMap::weights_srcC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a548c7119bea4983509ec80781ca01bf9"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">weights_src</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap11weights_srcEv" title="Link to this definition"></a><br /></dt>
<dd><p>Compute the number of ghost indices owned by each rank in <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a9b986fe6d2ee40f59fbe881ccd92b69b"><span class="std std-ref">IndexMap::src</span></a>. </p>
<p>This is a measure of the amount of data:</p>
<p><ol class="upperalpha simple">
<li><p>Sent from this rank to other ranks when performing a reverse (owner &lt;- ghost) scatter.</p></li>
<li><p>Received by this rank from other ranks when performing a forward (owner -&gt; ghost) scatter.</p></li>
</ol>
</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A weight vector, where <code class="docutils literal notranslate"><span class="pre">weight[i]</span></code> the the number of ghost indices owned by rank <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a9b986fe6d2ee40f59fbe881ccd92b69b"><span class="std std-ref">IndexMap::src()</span></a><code class="docutils literal notranslate"><span class="pre">[i]</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap12weights_destEv">
<span id="_CPPv3NK7dolfinx6common8IndexMap12weights_destEv"></span><span id="_CPPv2NK7dolfinx6common8IndexMap12weights_destEv"></span><span id="dolfinx::common::IndexMap::weights_destC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1a0e4aaa081ddc60cb601affbf5e88d102"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">weights_dest</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap12weights_destEv" title="Link to this definition"></a><br /></dt>
<dd><p>Compute the number of ghost indices owned by each rank in <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a41bc0b350e01d55645f06fccb4aacda9"><span class="std std-ref">IndexMap::dest</span></a>. </p>
<p>This is a measure of the amount of data:</p>
<p><ol class="upperalpha simple">
<li><p>Sent from this rank to other ranks when performing a forward (owner -&gt; ghost) scatter.</p></li>
<li><p>Received by this rank from other ranks when performing a reverse forward (owner &lt;- ghost) scatter.</p></li>
</ol>
</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A weight vector, where <code class="docutils literal notranslate"><span class="pre">weight[i]</span></code> the the number of ghost indices owned by rank <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a41bc0b350e01d55645f06fccb4aacda9"><span class="std std-ref">IndexMap::dest()</span></a><code class="docutils literal notranslate"><span class="pre">[i]</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common8IndexMap9rank_typeEi">
<span id="_CPPv3NK7dolfinx6common8IndexMap9rank_typeEi"></span><span id="_CPPv2NK7dolfinx6common8IndexMap9rank_typeEi"></span><span id="dolfinx::common::IndexMap::rank_type__iC"></span><span class="target" id="d2/d30/classdolfinx_1_1common_1_1IndexMap_1af80933c1aa41ff0ee13d621c29cb34b6"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rank_type</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">split_type</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common8IndexMap9rank_typeEi" title="Link to this definition"></a><br /></dt>
<dd><p>Destination and source ranks by type, e.g, ranks that are destination/source ranks for the caller and are in a common shared memory region. </p>
<p>This function is used to group destination and source ranks by ‘type’. The type is defined by the MPI <code class="docutils literal notranslate"><span class="pre">split_type</span></code>. Split types include ranks from a common shared memory region (<code class="docutils literal notranslate"><span class="pre">MPI_COMM_TYPE_SHARED</span></code>) or a common NUMA region. Splits types are listed at <a class="reference external" href="https://docs.open-mpi.org/en/main/man-openmpi/man3/MPI_Comm_split_type.3.html#split-types">https://docs.open-mpi.org/en/main/man-openmpi/man3/MPI_Comm_split_type.3.html#split-types</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective operation on <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1ad3217ebf3e21d7902bf89ab1248dabb9"><span class="std std-ref">comm()</span></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>split_type</strong> – <strong>[in]</strong> MPI split type, as used in the function <code class="docutils literal notranslate"><span class="pre">MPI_Comm_split_type</span></code>. See <a class="reference external" href="https://docs.open-mpi.org/en/main/man-openmpi/man3/MPI_Comm_split_type.3.html#split-types">https://docs.open-mpi.org/en/main/man-openmpi/man3/MPI_Comm_split_type.3.html#split-types</a>. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(0) Intersection of ranks in <code class="docutils literal notranslate"><span class="pre">split_type</span></code> and in <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a41bc0b350e01d55645f06fccb4aacda9"><span class="std std-ref">dest()</span></a>, and (1) intersection of ranks in <code class="docutils literal notranslate"><span class="pre">split_type</span></code> and in <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1a9b986fe6d2ee40f59fbe881ccd92b69b"><span class="std std-ref">src()</span></a>. Returned ranks are on the <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap_1ad3217ebf3e21d7902bf89ab1248dabb9"><span class="std std-ref">comm()</span></a> communicator. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common9ScattererE">
<span id="_CPPv3I0EN7dolfinx6common9ScattererE"></span><span id="_CPPv2I0EN7dolfinx6common9ScattererE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Container</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int32_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Scatterer</span></span></span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;Scatterer.h&gt;</em></div>
<p>A <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a> supports the scattering and gathering of distributed data that is associated with a <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">common::IndexMap</span></a>, using MPI. </p>
<p>Scatter and gather operations can use:<ol class="lowerroman simple">
<li><p>MPI neighbourhood collectives (recommended), or</p></li>
<li><p>Non-blocking point-to-point communication modes.</p></li>
</ol>
</p>
<p>The implementation is designed for sparse communication patterns, as is typical of patterns based on an <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a>.</p>
<p>A <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a> is stateless, i.e. it provides the required information and static data for a given parallel communication pattern but does not provide any communication caches or track the status of MPI requests. Callers of the a <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a>’s members are responsible for managing buffer and MPI request handles.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Container</strong> – Container type for storing the ‘local’ and ‘remote’ indices. On CPUs this is normally <code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::int32_t&gt;</span></code>. For GPUs the container should store the indices on the device, e.g. using <code class="docutils literal notranslate"><span class="pre">thrust::device_vector&lt;std::int32_t&gt;</span></code>. </p>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer14container_typeE">
<span id="_CPPv3N7dolfinx6common9Scatterer14container_typeE"></span><span id="_CPPv2N7dolfinx6common9Scatterer14container_typeE"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a9c2014b8eab41918aa55438cb370dd55"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">container_type</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9ScattererE" title="dolfinx::common::Scatterer::Container"><span class="n"><span class="pre">Container</span></span></a><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer14container_typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Container type used to store local and remote indices. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer9ScattererERK8IndexMapi">
<span id="_CPPv3N7dolfinx6common9Scatterer9ScattererERK8IndexMapi"></span><span id="_CPPv2N7dolfinx6common9Scatterer9ScattererERK8IndexMapi"></span><span id="dolfinx::common::Scatterer::Scatterer__IndexMapCR.i"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1aed4679805e627e96e439cc3b8b1c65e7"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Scatterer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer9ScattererERK8IndexMapi" title="Link to this definition"></a><br /></dt>
<dd><p>Create a scatterer for data with a layout described by an <a class="reference internal" href="#d2/d30/classdolfinx_1_1common_1_1IndexMap"><span class="std std-ref">IndexMap</span></a> and a block size. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map</strong> – <strong>[in]</strong> Index map that describes the parallel layout of data. </p></li>
<li><p><strong>bs</strong> – <strong>[in]</strong> Number of values associated with each <code class="docutils literal notranslate"><span class="pre">map</span></code> index (the block size). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer9ScattererERK9Scatterer">
<span id="_CPPv3N7dolfinx6common9Scatterer9ScattererERK9Scatterer"></span><span id="_CPPv2N7dolfinx6common9Scatterer9ScattererERK9Scatterer"></span><span id="dolfinx::common::Scatterer::Scatterer__ScattererCR"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1af8ea99b293c8ea123a52db6d341476f9"></span><span class="sig-name descname"><span class="n"><span class="pre">Scatterer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer9ScattererERK9Scatterer" title="dolfinx::common::Scatterer::Scatterer"><span class="n"><span class="pre">Scatterer</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">scatterer</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer9ScattererERK9Scatterer" title="Link to this definition"></a><br /></dt>
<dd><p>Copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common9Scatterer9ScattererERK9ScattererI1UE">
<span id="_CPPv3I0EN7dolfinx6common9Scatterer9ScattererERK9ScattererI1UE"></span><span id="_CPPv2I0EN7dolfinx6common9Scatterer9ScattererERK9ScattererI1UE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">U</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1af503fe66ca8c3e0151f1d9223fb5ef0e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Scatterer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9Scatterer9ScattererERK9ScattererI1UE" title="dolfinx::common::Scatterer::Scatterer"><span class="n"><span class="pre">Scatterer</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common9Scatterer9ScattererERK9ScattererI1UE" title="dolfinx::common::Scatterer::Scatterer::U"><span class="n"><span class="pre">U</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common9Scatterer9ScattererERK9ScattererI1UE" title="Link to this definition"></a><br /></dt>
<dd><p>Cast-copy constructor. </p>
<p>Create a copy of a <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a>, were the copy uses a different storage container for indices that are used in MPI communication. Example usage includes creating from a CPU-suitable <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a> a GPU-suitable <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a> that can be used with GPU-aware MPI to move data between devices. This would be typical when copying a <a class="reference internal" href="la.html#d2/d0b/classdolfinx_1_1la_1_1Vector"><span class="std std-ref">la::Vector</span></a> or <a class="reference internal" href="la.html#dc/dfa/classdolfinx_1_1la_1_1MatrixCSR"><span class="std std-ref">la::MatrixCSR</span></a> to/from a GPU. When copying a vector or matrix to/from a GPU, the underlying Scatter that manages parallel communication will usually be copied too with a different storage container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> – <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer"><span class="std std-ref">Scatterer</span></a> to copy </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TR11MPI_Request">
<span id="_CPPv3I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEPK1TP1TR11MPI_Request"></span><span id="_CPPv2I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEPK1TP1TR11MPI_Request"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a53234a50d2651d02a0684e31965bdba2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_fwd_begin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TR11MPI_Request" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">send_buffer</span></span>, <a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TR11MPI_Request" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">recv_buffer</span></span>, <span class="n"><span class="pre">MPI_Request</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">request</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TR11MPI_Request" title="Link to this definition"></a><br /></dt>
<dd><p>Start a non-blocking send of owned data to ranks that ghost the data using <em>MPI neighbourhood collective communication</em> (recommended). </p>
<p>The communication is completed by calling <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f24c30e82c48adcd61fa992c8406c6"><span class="std std-ref">Scatterer::scatter_end</span></a>. See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a569bd8eeb281f1a5191e6f0f12cfb9d6"><span class="std std-ref">local_indices</span></a> for instructions on packing <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> and <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a61e39d73a4761cfa31d6ffadc1d552c2"><span class="std std-ref">remote_indices</span></a> for instructions on unpacking <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The send and receive buffers must <strong>not</strong> to be changed or accessed until after a call to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f24c30e82c48adcd61fa992c8406c6"><span class="std std-ref">Scatterer::scatter_end</span></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The pointers <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> and <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code> must be pointers to the data on the <em>target device</em>. E.g., if the send and receive buffers are allocated on a GPU, the <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> and <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code> should be device pointers.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>send_buffer</strong> – <strong>[in]</strong> Packed local data associated with each owned local index to be sent to processes where the data is ghosted. See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a569bd8eeb281f1a5191e6f0f12cfb9d6"><span class="std std-ref">Scatterer::local_indices</span></a> for the order of the buffer and how to pack. </p></li>
<li><p><strong>recv_buffer</strong> – <strong>[inout]</strong> Buffer for storing received data. See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a61e39d73a4761cfa31d6ffadc1d552c2"><span class="std std-ref">Scatterer::remote_indices</span></a> for the order of the buffer and how to unpack. </p></li>
<li><p><strong>request</strong> – <strong>[in]</strong> MPI request handle for tracking the status of the non-blocking communication. The same request handle should be passed to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f24c30e82c48adcd61fa992c8406c6"><span class="std std-ref">Scatterer::scatter_end</span></a> to complete the communication. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TNSt4spanI11MPI_RequestEE">
<span id="_CPPv3I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEPK1TP1TNSt4spanI11MPI_RequestEE"></span><span id="_CPPv2I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEPK1TP1TNSt4spanI11MPI_RequestEE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a0858667656f7830e4bb568cce4bb294d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_fwd_begin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">send_buffer</span></span>, <a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_fwd_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">recv_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_fwd_beginEvPK1TP1TNSt4spanI11MPI_RequestEE" title="Link to this definition"></a><br /></dt>
<dd><p>Start a non-blocking send of owned data to ranks that ghost the data using <em>point-to-point MPI communication</em>. </p>
<p>See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a53234a50d2651d02a0684e31965bdba2"><span class="std std-ref">scatter_fwd_begin</span></a> for a detailed explanation of usage, including on the send and receive buffer packing and unpacking</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use of the neighbourhood version of <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a53234a50d2651d02a0684e31965bdba2"><span class="std std-ref">scatter_fwd_begin</span></a> is recommended over this version.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>send_buffer</strong> – <strong>[in]</strong> Send buffer. </p></li>
<li><p><strong>recv_buffer</strong> – <strong>[inout]</strong> Receive buffer. </p></li>
<li><p><strong>requests</strong> – <strong>[in]</strong> List of MPI request handles. The length of the list must be <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a347c440e68b4a4e881d1f7f2a23c94bc"><span class="std std-ref">num_p2p_requests()</span></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TR11MPI_Request">
<span id="_CPPv3I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEPK1TP1TR11MPI_Request"></span><span id="_CPPv2I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEPK1TP1TR11MPI_Request"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a3bebfcef2134fb7646b0a5de20db9a6d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_rev_begin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TR11MPI_Request" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">send_buffer</span></span>, <a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TR11MPI_Request" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">recv_buffer</span></span>, <span class="n"><span class="pre">MPI_Request</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">request</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TR11MPI_Request" title="Link to this definition"></a><br /></dt>
<dd><p>Start a non-blocking send of ghost data to ranks that own the data using <em>MPI neighbourhood collective communication</em> (recommended). </p>
<p>The communication is completed by calling <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f24c30e82c48adcd61fa992c8406c6"><span class="std std-ref">Scatterer::scatter_end</span></a>. See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a61e39d73a4761cfa31d6ffadc1d552c2"><span class="std std-ref">remote_indices</span></a> for instructions on packing <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> and <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a569bd8eeb281f1a5191e6f0f12cfb9d6"><span class="std std-ref">local_indices</span></a> for instructions on unpacking <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The send and receive buffers must <strong>not</strong> to be changed or accessed until after a call to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f24c30e82c48adcd61fa992c8406c6"><span class="std std-ref">Scatterer::scatter_end</span></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The pointers <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> and <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code> must be pointers to the data on the <em>target device</em>. E.g., if the send and receive buffers are allocated on a GPU, the <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> and <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code> should be device pointers.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>send_buffer</strong> – <strong>[in]</strong> Data associated with each ghost index. This data is sent to process that owns the index. See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a61e39d73a4761cfa31d6ffadc1d552c2"><span class="std std-ref">Scatterer::remote_indices</span></a> for the order of the buffer and how to pack. </p></li>
<li><p><strong>recv_buffer</strong> – <strong>[inout]</strong> Buffer for storing received data. See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a569bd8eeb281f1a5191e6f0f12cfb9d6"><span class="std std-ref">Scatterer::local_indices</span></a> for the order of the buffer and how to unpack. </p></li>
<li><p><strong>request</strong> – <strong>[in]</strong> MPI request handle for tracking the status of the non-blocking communication. The same request handle should be passed to <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f24c30e82c48adcd61fa992c8406c6"><span class="std std-ref">Scatterer::scatter_end</span></a> to complete the communication. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TNSt4spanI11MPI_RequestEE">
<span id="_CPPv3I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEPK1TP1TNSt4spanI11MPI_RequestEE"></span><span id="_CPPv2I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEPK1TP1TNSt4spanI11MPI_RequestEE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1ad6b7e10a531d2a677ab68daa29d4f7fa"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_rev_begin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">send_buffer</span></span>, <a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TNSt4spanI11MPI_RequestEE" title="dolfinx::common::Scatterer::scatter_rev_begin::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">recv_buffer</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common9Scatterer17scatter_rev_beginEvPK1TP1TNSt4spanI11MPI_RequestEE" title="Link to this definition"></a><br /></dt>
<dd><p>Start a non-blocking send of ghost data to ranks that own the data using <em>point-to-point MPI communication</em>. </p>
<p>See <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a3bebfcef2134fb7646b0a5de20db9a6d"><span class="std std-ref">scatter_rev_begin</span></a> for a detailed explanation of usage, including on the send and receive buffer packing and unpacking</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use of the neighbourhood version of <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a3bebfcef2134fb7646b0a5de20db9a6d"><span class="std std-ref">scatter_rev_begin</span></a> is recommended over this version</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>send_buffer</strong> – <strong>[in]</strong> Send buffer. </p></li>
<li><p><strong>recv_buffer</strong> – <strong>[inout]</strong> Receive buffer. </p></li>
<li><p><strong>requests</strong> – <strong>[in]</strong> List of MPI request handles. The length of the list must be <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a347c440e68b4a4e881d1f7f2a23c94bc"><span class="std std-ref">num_p2p_requests()</span></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer11scatter_endENSt4spanI11MPI_RequestEE">
<span id="_CPPv3NK7dolfinx6common9Scatterer11scatter_endENSt4spanI11MPI_RequestEE"></span><span id="_CPPv2NK7dolfinx6common9Scatterer11scatter_endENSt4spanI11MPI_RequestEE"></span><span id="dolfinx::common::Scatterer::scatter_end__std::span:MPI_Request:C"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a22f24c30e82c48adcd61fa992c8406c6"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_end</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MPI_Request</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">requests</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer11scatter_endENSt4spanI11MPI_RequestEE" title="Link to this definition"></a><br /></dt>
<dd><p>Complete non-blocking MPI point-to-point sends. </p>
<p>This function completes the communication started by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a53234a50d2651d02a0684e31965bdba2"><span class="std std-ref">scatter_fwd_begin</span></a> or <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a3bebfcef2134fb7646b0a5de20db9a6d"><span class="std std-ref">scatter_rev_begin</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>requests</strong> – <strong>[in]</strong> MPI request handles for tracking the status of sends. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer11scatter_endER11MPI_Request">
<span id="_CPPv3NK7dolfinx6common9Scatterer11scatter_endER11MPI_Request"></span><span id="_CPPv2NK7dolfinx6common9Scatterer11scatter_endER11MPI_Request"></span><span id="dolfinx::common::Scatterer::scatter_end__MPI_RequestRC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a6bd29dc4f34d787f19915146ace238af"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_end</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Request</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">request</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer11scatter_endER11MPI_Request" title="Link to this definition"></a><br /></dt>
<dd><p>Complete a non-blocking MPI neighbourhood collective send. </p>
<p>This function completes the communication started by <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a53234a50d2651d02a0684e31965bdba2"><span class="std std-ref">scatter_fwd_begin</span></a> or <a class="reference internal" href="#de/d43/classdolfinx_1_1common_1_1Scatterer_1a3bebfcef2134fb7646b0a5de20db9a6d"><span class="std std-ref">scatter_rev_begin</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – <strong>[in]</strong> MPI request handle for tracking the status of the send. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer13local_indicesEv">
<span id="_CPPv3NK7dolfinx6common9Scatterer13local_indicesEv"></span><span id="_CPPv2NK7dolfinx6common9Scatterer13local_indicesEv"></span><span id="dolfinx::common::Scatterer::local_indicesC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a569bd8eeb281f1a5191e6f0f12cfb9d6"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer14container_typeE" title="dolfinx::common::Scatterer::container_type"><span class="n"><span class="pre">container_type</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">local_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer13local_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Array of indices for packing/unpacking owned data to/from a send/receive buffer. </p>
<p>For a forward scatter, the indices are used to copy required entries in the owned part of the data array into the appropriate position in a send buffer. For a reverse scatter, indices are used for assigning (accumulating) the receive buffer values into correct position in the owned part of the data array.</p>
<p>For a forward scatter, if <code class="docutils literal notranslate"><span class="pre">x</span></code> is the owned part of an array and <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> is the send buffer, <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> is packed such that: <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scatterer</span><span class="p">.</span><span class="n">local_indices</span><span class="p">()</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">send_buffer</span><span class="p">(</span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">send_buffer</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]];</span>
</pre></div>
</div>
</p>
<p>For a reverse scatter, if <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code> is the received buffer, then <code class="docutils literal notranslate"><span class="pre">x</span></code> is updated by <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scatterer</span><span class="p">.</span><span class="n">local_indices</span><span class="p">()</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">recv_buffer</span><span class="p">(</span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">x</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">op</span><span class="p">(</span><span class="n">recv_buffer</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]]);</span>
</pre></div>
</div>
</p>
<p>where <code class="docutils literal notranslate"><span class="pre">op</span></code> is a binary operation, e.g. <code class="docutils literal notranslate"><span class="pre">x[idx[i]]</span> <span class="pre">=</span> <span class="pre">buffer[i]</span></code> or <code class="docutils literal notranslate"><span class="pre">x[idx[i]]</span> <span class="pre">+=</span> <span class="pre">buffer[i]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Indices container. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common9Scatterer14remote_indicesEv">
<span id="_CPPv3NK7dolfinx6common9Scatterer14remote_indicesEv"></span><span id="_CPPv2NK7dolfinx6common9Scatterer14remote_indicesEv"></span><span id="dolfinx::common::Scatterer::remote_indicesC"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a61e39d73a4761cfa31d6ffadc1d552c2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common9Scatterer14container_typeE" title="dolfinx::common::Scatterer::container_type"><span class="n"><span class="pre">container_type</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">remote_indices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common9Scatterer14remote_indicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Array of indices for packing/unpacking ghost data to/from a send/receive buffer. </p>
<p>For a forward scatter, the indices are to copy required entries in the owned array into the appropriate position in a send buffer. For a reverse scatter, indices are used for assigning (accumulating) the receive buffer values to correct position in the owned array.</p>
<p>For a forward scatter, if <code class="docutils literal notranslate"><span class="pre">xg</span></code> is the ghost part of the data array and <code class="docutils literal notranslate"><span class="pre">recv_buffer</span></code> is the receive buffer, <code class="docutils literal notranslate"><span class="pre">xg</span></code> is updated that <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scatterer</span><span class="p">.</span><span class="n">remote_indices</span><span class="p">()</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">recv_buffer</span><span class="p">(</span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">xg</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recv_buffer</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</pre></div>
</div>
</p>
<p>For a reverse scatter, if <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> is the send buffer, then <code class="docutils literal notranslate"><span class="pre">send_buffer</span></code> is packaged such that: <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scatterer</span><span class="p">.</span><span class="n">local_indices</span><span class="p">()</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">send_buffer</span><span class="p">(</span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">idx</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">send_buffer</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xg</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]];</span>
</pre></div>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Indices container. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common9Scatterer16num_p2p_requestsEv">
<span id="_CPPv3N7dolfinx6common9Scatterer16num_p2p_requestsEv"></span><span id="_CPPv2N7dolfinx6common9Scatterer16num_p2p_requestsEv"></span><span id="dolfinx::common::Scatterer::num_p2p_requests"></span><span class="target" id="de/d43/classdolfinx_1_1common_1_1Scatterer_1a347c440e68b4a4e881d1f7f2a23c94bc"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_p2p_requests</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common9Scatterer16num_p2p_requestsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Number of required <code class="docutils literal notranslate"><span class="pre">MPI_Request</span></code>s for point-to-point communication. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Numer of required MPI request handles. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLoggerE">
<span id="_CPPv3N7dolfinx6common10TimeLoggerE"></span><span id="_CPPv2N7dolfinx6common10TimeLoggerE"></span><span id="dolfinx::common::TimeLogger"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TimeLogger</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLoggerE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;TimeLogger.h&gt;</em></div>
<p>Time logger maintaining data collected by <a class="reference internal" href="#d4/d40/classdolfinx_1_1common_1_1Timer"><span class="std std-ref">Timer</span></a>, if registered. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a monotstate, i.e. the data members are static and thus timings are aggregated into a single map. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLogger15register_timingERKNSt6stringENSt6chrono8durationIdNSt5ratioIXL1EEEEEE">
<span id="_CPPv3N7dolfinx6common10TimeLogger15register_timingERKNSt6stringENSt6chrono8durationIdNSt5ratioIXL1EEEEEE"></span><span id="_CPPv2N7dolfinx6common10TimeLogger15register_timingERKNSt6stringENSt6chrono8durationIdNSt5ratioIX1EEEEE"></span><span id="dolfinx::common::TimeLogger::register_timing__ssCR.std::chrono::duration:double.std::ratio:1::"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1a55268b41462e587edb4df1a2d06e7342"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">register_timing</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">task</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ratio</span></span><span class="p"><span class="pre">&lt;</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">wall</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLogger15register_timingERKNSt6stringENSt6chrono8durationIdNSt5ratioIXL1EEEEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Register timing (for later summary) </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common10TimeLogger12timing_tableEv">
<span id="_CPPv3NK7dolfinx6common10TimeLogger12timing_tableEv"></span><span id="_CPPv2NK7dolfinx6common10TimeLogger12timing_tableEv"></span><span id="dolfinx::common::TimeLogger::timing_tableC"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1abc80250ec04d505239bc7d887ad41697"></span><span class="n"><span class="pre">Table</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timing_table</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common10TimeLogger12timing_tableEv" title="Link to this definition"></a><br /></dt>
<dd><p>Return a summary of timings and tasks in a Table. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common10TimeLogger12list_timingsE8MPI_CommN5Table9ReductionE">
<span id="_CPPv3NK7dolfinx6common10TimeLogger12list_timingsE8MPI_CommN5Table9ReductionE"></span><span id="_CPPv2NK7dolfinx6common10TimeLogger12list_timingsE8MPI_CommN5Table9ReductionE"></span><span id="dolfinx::common::TimeLogger::list_timings__MPI_Comm.Table::ReductionC"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1ab7bfa5ff509d4120216c3adf29ad0a49"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">list_timings</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">Table</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Reduction</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">reduction</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common10TimeLogger12list_timingsE8MPI_CommN5Table9ReductionE" title="Link to this definition"></a><br /></dt>
<dd><p>List a summary of timings and tasks. Reduction type is printed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – MPI Communicator </p></li>
<li><p><strong>reduction</strong> – Reduction type (min, max or average) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common10TimeLogger6timingERKNSt6stringE">
<span id="_CPPv3NK7dolfinx6common10TimeLogger6timingERKNSt6stringE"></span><span id="_CPPv2NK7dolfinx6common10TimeLogger6timingERKNSt6stringE"></span><span id="dolfinx::common::TimeLogger::timing__ssCRC"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1a5a2f54af9f3390ba7f246d1b26b83157"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ratio</span></span><span class="p"><span class="pre">&lt;</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timing</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">task</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common10TimeLogger6timingERKNSt6stringE" title="Link to this definition"></a><br /></dt>
<dd><p>Return timing. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task</strong> – <strong>[in]</strong> The task name to retrieve the timing for </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Values (count, total wall time) for given task. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK7dolfinx6common10TimeLogger7timingsEv">
<span id="_CPPv3NK7dolfinx6common10TimeLogger7timingsEv"></span><span id="_CPPv2NK7dolfinx6common10TimeLogger7timingsEv"></span><span id="dolfinx::common::TimeLogger::timingsC"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1ab04775f1180dd4df2125364ec3f214ef"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">map</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ratio</span></span><span class="p"><span class="pre">&lt;</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timings</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK7dolfinx6common10TimeLogger7timingsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Logged elapsed times. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Elapsed [task id: (count, total wall time)]. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common10TimeLogger8instanceEv">
<span id="_CPPv3N7dolfinx6common10TimeLogger8instanceEv"></span><span id="_CPPv2N7dolfinx6common10TimeLogger8instanceEv"></span><span id="dolfinx::common::TimeLogger::instance"></span><span class="target" id="db/df3/classdolfinx_1_1common_1_1TimeLogger_1ac2c0287322e9fd3356641d2a5fb84c7b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx6common10TimeLoggerE" title="dolfinx::common::TimeLogger"><span class="n"><span class="pre">TimeLogger</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">instance</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common10TimeLogger8instanceEv" title="Link to this definition"></a><br /></dt>
<dd><p>Singleton access. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Unique time logger object. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common5TimerE">
<span id="_CPPv3I0EN7dolfinx6common5TimerE"></span><span id="_CPPv2I0EN7dolfinx6common5TimerE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">high_resolution_clock</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Timer</span></span></span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common5TimerE" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;Timer.h&gt;</em></div>
<p><a class="reference internal" href="#d4/d40/classdolfinx_1_1common_1_1Timer"><span class="std std-ref">Timer</span></a> for measuring and logging elapsed time durations. </p>
<p>The basic usage is <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Timer</span><span class="w"> </span><span class="n">timer</span><span class="p">(</span><span class="s">&quot;Assembling over cells&quot;</span><span class="p">);</span>
</pre></div>
</div>
 The timer is started at construction and timing ends when the timer is destroyed (goes out-of-scope). The timer can be started (reset) and stopped explicitly by <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">timer</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>
<span class="w"> </span><span class="cm">/* .... */</span>
<span class="n">timer</span><span class="p">.</span><span class="n">stop</span><span class="p">();</span>
</pre></div>
</div>
 A summary of registered elapsed times can be printed by calling: <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">list_timings</span><span class="p">();</span>
</pre></div>
</div>
 Registered elapsed times are logged when (1) the timer goes out-of-scope or (2) <a class="reference internal" href="#d4/d40/classdolfinx_1_1common_1_1Timer_1adac116554b543b7c4228c018a85882f5"><span class="std std-ref">Timer::flush()</span></a> is called. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer5TimerENSt8optionalINSt6stringEEE">
<span id="_CPPv3N7dolfinx6common5Timer5TimerENSt8optionalINSt6stringEEE"></span><span id="_CPPv2N7dolfinx6common5Timer5TimerENSt8optionalINSt6stringEEE"></span><span id="dolfinx::common::Timer::Timer__std::optional:ss:"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1ac418d464f6e061dec053e81a685098cc"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Timer</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">optional</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">task</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">nullopt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer5TimerENSt8optionalINSt6stringEEE" title="Link to this definition"></a><br /></dt>
<dd><p>Create and start timer. </p>
<p>Elapsed time is optionally registered in the logger when the <a class="reference internal" href="#d4/d40/classdolfinx_1_1common_1_1Timer"><span class="std std-ref">Timer</span></a> destructor is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task</strong> – <strong>[in]</strong> Name used to registered the elapsed time in the logger. If no name is set, the elapsed time is not registered in the logger. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5TimerD0Ev">
<span id="_CPPv3N7dolfinx6common5TimerD0Ev"></span><span id="_CPPv2N7dolfinx6common5TimerD0Ev"></span><span id="dolfinx::common::Timer::~Timer"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a4f8a8b0b7dca75172a8e036314ad1794"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~Timer</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5TimerD0Ev" title="Link to this definition"></a><br /></dt>
<dd><p>If timer is still running, it is stopped. Elapsed time is registered in the logger. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer5startEv">
<span id="_CPPv3N7dolfinx6common5Timer5startEv"></span><span id="_CPPv2N7dolfinx6common5Timer5startEv"></span><span id="dolfinx::common::Timer::start"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a60de64d75454385b23995437f1d72669"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer5startEv" title="Link to this definition"></a><br /></dt>
<dd><p>Reset elapsed time and (re-)start timer. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK7dolfinx6common5Timer7elapsedENSt6chrono8durationId6PeriodEEv">
<span id="_CPPv3I0ENK7dolfinx6common5Timer7elapsedEv"></span><span id="_CPPv2I0ENK7dolfinx6common5Timer7elapsedEv"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Period</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ratio</span></span><span class="p"><span class="pre">&lt;</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a80b498366eae20509c49c79173a63995"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK7dolfinx6common5Timer7elapsedENSt6chrono8durationId6PeriodEEv" title="dolfinx::common::Timer::elapsed::Period"><span class="n"><span class="pre">Period</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">elapsed</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK7dolfinx6common5Timer7elapsedENSt6chrono8durationId6PeriodEEv" title="Link to this definition"></a><br /></dt>
<dd><p>Elapsed time since time has been started. </p>
<p>Default duration unit is seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Elapsed time duration. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx6common5Timer4stopENSt6chrono8durationId6PeriodEEv">
<span id="_CPPv3I0EN7dolfinx6common5Timer4stopEv"></span><span id="_CPPv2I0EN7dolfinx6common5Timer4stopEv"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Period</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ratio</span></span><span class="p"><span class="pre">&lt;</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a2f8d1258e5dec1d55a8c2e7bfabffec8"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx6common5Timer4stopENSt6chrono8durationId6PeriodEEv" title="dolfinx::common::Timer::stop::Period"><span class="n"><span class="pre">Period</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stop</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx6common5Timer4stopENSt6chrono8durationId6PeriodEEv" title="Link to this definition"></a><br /></dt>
<dd><p>Stop timer and return elapsed time. </p>
<p>Default duration unit is seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Elapsed time duration. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer6resumeEv">
<span id="_CPPv3N7dolfinx6common5Timer6resumeEv"></span><span id="_CPPv2N7dolfinx6common5Timer6resumeEv"></span><span id="dolfinx::common::Timer::resume"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1a41de8150eff044a237990c271d57ea27"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">resume</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer6resumeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Resume a stopped timer. </p>
<p>Does nothing if timer has not been stopped. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx6common5Timer5flushEv">
<span id="_CPPv3N7dolfinx6common5Timer5flushEv"></span><span id="_CPPv2N7dolfinx6common5Timer5flushEv"></span><span id="dolfinx::common::Timer::flush"></span><span class="target" id="d4/d40/classdolfinx_1_1common_1_1Timer_1adac116554b543b7c4228c018a85882f5"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flush</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx6common5Timer5flushEv" title="Link to this definition"></a><br /></dt>
<dd><p>Flush timer duration to the logger. </p>
<p>An instance of a timer can be flushed to the logger only once. Subsequent calls will have no effect and will not trigger any logging.</p>
<dl class="field-list simple">
<dt class="field-odd">Pre<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#d4/d40/classdolfinx_1_1common_1_1Timer"><span class="std std-ref">Timer</span></a> must have been stopped before flushing. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api.html" class="btn btn-neutral float-left" title="API documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geometry.html" class="btn btn-neutral float-right" title="Geometry (dolfinx::geometry)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, FEniCS Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>