<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DOLFINx: dolfinx::io Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DOLFINx<span id="projectnumber">&#160;0.10.0.0</span>
   </div>
   <div id="projectbrief">DOLFINx C++ interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d2/dc7/namespacedolfinx.html">dolfinx</a></li><li class="navelem"><a class="el" href="../../d6/d7a/namespacedolfinx_1_1io.html">io</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">dolfinx::io Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Support for file IO.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcf/namespacedolfinx_1_1io_1_1cells.html">cells</a></td></tr>
<tr class="memdesc:df/dcf/namespacedolfinx_1_1io_1_1cells"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions for the re-ordering of input mesh topology to the DOLFINx ordering, and transpose orderings for file output. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dbd/namespacedolfinx_1_1io_1_1xdmf__function.html">xdmf_function</a></td></tr>
<tr class="memdesc:df/dbd/namespacedolfinx_1_1io_1_1xdmf__function"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low-level methods for reading/writing XDMF files. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfe/namespacedolfinx_1_1io_1_1xdmf__mesh.html">xdmf_mesh</a></td></tr>
<tr class="memdesc:d0/dfe/namespacedolfinx_1_1io_1_1xdmf__mesh"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low-level methods for reading XDMF files. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d1d/classdolfinx_1_1io_1_1VTKFile.html">VTKFile</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output of meshes and functions in VTK/ParaView format.  <a href="../../de/d1d/classdolfinx_1_1io_1_1VTKFile.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9e/classdolfinx_1_1io_1_1XDMFFile.html">XDMFFile</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and write <a class="el" href="../../d0/ddf/classdolfinx_1_1mesh_1_1Mesh.html" title="A Mesh consists of a set of connected and numbered mesh topological entities, and geometry data.">mesh::Mesh</a>, <a class="el" href="../../d7/d76/classdolfinx_1_1fem_1_1Function.html">fem::Function</a> and other objects in XDMF.  <a href="../../d9/d9e/classdolfinx_1_1io_1_1XDMFFile.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3d82af6d5a43f14e3ab0c466781a4b13" id="r_a3d82af6d5a43f14e3ab0c466781a4b13"><td class="memTemplParams" colspan="2">template&lt;typename T&gt; </td></tr>
<tr class="memitem:a3d82af6d5a43f14e3ab0c466781a4b13"><td class="memTemplItemLeft" align="right" valign="top">std::pair&lt; std::vector&lt; std::int32_t &gt;, std::vector&lt; T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a3d82af6d5a43f14e3ab0c466781a4b13">distribute_entity_data</a> (const <a class="el" href="../../da/d02/classdolfinx_1_1mesh_1_1Topology.html">mesh::Topology</a> &amp;topology, std::span&lt; const std::int64_t &gt; nodes_g, std::int64_t num_nodes_g, const <a class="el" href="../../d7/d80/classdolfinx_1_1fem_1_1ElementDofLayout.html">fem::ElementDofLayout</a> &amp;cmap_dof_layout, md::mdspan&lt; const std::int32_t, md::dextents&lt; std::size_t, 2 &gt; &gt; xdofmap, int entity_dim, md::mdspan&lt; const std::int64_t, md::dextents&lt; std::size_t, 2 &gt; &gt; entities, std::span&lt; const T &gt; data)</td></tr>
<tr class="memdesc:a3d82af6d5a43f14e3ab0c466781a4b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get owned entities and associated data from input entities defined by global 'node' indices.  <br /></td></tr>
<tr class="separator:a3d82af6d5a43f14e3ab0c466781a4b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f5bca201b37b723b59be5eb44f0454" id="r_aa6f5bca201b37b723b59be5eb44f0454"><td class="memTemplParams" colspan="2">template&lt;typename T&gt; </td></tr>
<tr class="memitem:aa6f5bca201b37b723b59be5eb44f0454"><td class="memTemplItemLeft" align="right" valign="top">std::tuple&lt; std::vector&lt; T &gt;, std::array&lt; std::size_t, 2 &gt;, std::vector&lt; std::int64_t &gt;, std::vector&lt; std::uint8_t &gt;, std::vector&lt; std::int64_t &gt;, std::array&lt; std::size_t, 2 &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa6f5bca201b37b723b59be5eb44f0454">vtk_mesh_from_space</a> (const <a class="el" href="../../d9/d69/classdolfinx_1_1fem_1_1FunctionSpace.html">fem::FunctionSpace</a>&lt; T &gt; &amp;V)</td></tr>
<tr class="memdesc:aa6f5bca201b37b723b59be5eb44f0454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a FunctionSpace, create a topology and geometry based on the dof coordinates.  <br /></td></tr>
<tr class="separator:aa6f5bca201b37b723b59be5eb44f0454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16336343ac549029a3c218f20216d85" id="r_ad16336343ac549029a3c218f20216d85"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::vector&lt; std::int64_t &gt;, std::array&lt; std::size_t, 2 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad16336343ac549029a3c218f20216d85">extract_vtk_connectivity</a> (md::mdspan&lt; const std::int32_t, md::dextents&lt; std::size_t, 2 &gt; &gt; dofmap_x, <a class="el" href="../../dd/d7d/namespacedolfinx_1_1mesh.html#ac3c2cbbef08f3b7ddc3b06c6bd5a2271">mesh::CellType</a> cell_type)</td></tr>
<tr class="memdesc:ad16336343ac549029a3c218f20216d85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract the cell topology (connectivity) in VTK ordering for all cells the mesh. The 'topology' includes higher-order 'nodes'.  <br /></td></tr>
<tr class="separator:ad16336343ac549029a3c218f20216d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Support for file IO. </p>
<p>IO to files for checkpointing and visualisation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3d82af6d5a43f14e3ab0c466781a4b13" name="a3d82af6d5a43f14e3ab0c466781a4b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d82af6d5a43f14e3ab0c466781a4b13">&#9670;&#160;</a></span>distribute_entity_data()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::vector&lt; std::int32_t &gt;, std::vector&lt; T &gt; &gt; distribute_entity_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d02/classdolfinx_1_1mesh_1_1Topology.html">mesh::Topology</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>topology</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; const std::int64_t &gt;</td>          <td class="paramname"><span class="paramname"><em>nodes_g</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int64_t</td>          <td class="paramname"><span class="paramname"><em>num_nodes_g</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d7/d80/classdolfinx_1_1fem_1_1ElementDofLayout.html">fem::ElementDofLayout</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cmap_dof_layout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">md::mdspan&lt; const std::int32_t, md::dextents&lt; std::size_t, 2 &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>xdofmap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>entity_dim</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">md::mdspan&lt; const std::int64_t, md::dextents&lt; std::size_t, 2 &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>entities</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; const T &gt;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get owned entities and associated data from input entities defined by global 'node' indices. </p>
<p>The input entities and data can be supplied on any rank and this function will manage the communication.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topology</td><td>A mesh topology. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nodes_g</td><td>Global 'input' indices for the mesh, as returned by Geometry::input_global_indices. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_nodes_g</td><td>Global number of geometry nodes, as returned by <code>Geometry::index_map()-&gt;size_global()</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmap_dof_layout</td><td>Coordinate element dof layout, computed using <code>Geometry::cmap().create_dof_layout()</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xdofmap</td><td>Dofmap for the mesh geometry (Geometry::dofmap). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entity_dim</td><td>Topological dimension of entities to extract. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entities</td><td>Mesh entities defined using global input indices ('nodes'), typically from an input mesh file, e.g. [gi0, gi1, gi2] for a triangle. Let [v0, v1, v2] be the vertex indices of some triangle (using local indexing). Each vertex has a 'node' (geometry dof) index, and each node has a persistent input global index, so the triangle [gi0, gi1, gi2] could be identified with [v0, v1, v2]. The data is flattened and the shape is <code>(num_entities, / nodes_per_entity)</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data associated with each entity in <code>entities</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(entity-vertex connectivity of owned entities, associated data (values) with each entity).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function involves parallel distribution and must be called collectively. Global input indices for entities which are not owned by current rank could be passed to this function. E.g., rank0 provides an entity with global input indices [gi0, gi1, gi2], but this identifies a triangle that is owned by rank1. It will be distributed and rank1 will receive the (local) cell-vertex connectivity for this triangle. </dd></dl>

</div>
</div>
<a id="ad16336343ac549029a3c218f20216d85" name="ad16336343ac549029a3c218f20216d85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16336343ac549029a3c218f20216d85">&#9670;&#160;</a></span>extract_vtk_connectivity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::vector&lt; std::int64_t &gt;, std::array&lt; std::size_t, 2 &gt; &gt; extract_vtk_connectivity </td>
          <td>(</td>
          <td class="paramtype">md::mdspan&lt; const std::int32_t, md::dextents&lt; std::size_t, 2 &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>dofmap_x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d7d/namespacedolfinx_1_1mesh.html#ac3c2cbbef08f3b7ddc3b06c6bd5a2271">mesh::CellType</a></td>          <td class="paramname"><span class="paramname"><em>cell_type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract the cell topology (connectivity) in VTK ordering for all cells the mesh. The 'topology' includes higher-order 'nodes'. </p>
<p>The index of a 'node' corresponds to the index of DOLFINx geometry 'nodes'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dofmap_x</td><td>Geometry dofmap. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cell_type</td><td>Cell type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Cell topology in VTK ordering and in term of the DOLFINx geometry 'nodes'. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The indices in the return array correspond to the point indices in the mesh geometry array. </dd>
<dd>
Even if the indices are local (int32), VTX requires int64 as local input. </dd></dl>

</div>
</div>
<a id="aa6f5bca201b37b723b59be5eb44f0454" name="aa6f5bca201b37b723b59be5eb44f0454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f5bca201b37b723b59be5eb44f0454">&#9670;&#160;</a></span>vtk_mesh_from_space()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; std::vector&lt; T &gt;, std::array&lt; std::size_t, 2 &gt;, std::vector&lt; std::int64_t &gt;, std::vector&lt; std::uint8_t &gt;, std::vector&lt; std::int64_t &gt;, std::array&lt; std::size_t, 2 &gt; &gt; vtk_mesh_from_space </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d69/classdolfinx_1_1fem_1_1FunctionSpace.html">fem::FunctionSpace</a>&lt; T &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>V</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a FunctionSpace, create a topology and geometry based on the dof coordinates. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>V</code> must be a (discontinuous) Lagrange space</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">V</td><td>The function space </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mesh data<ol type="1">
<li>node coordinates (shape={num_nodes, 3}), row-major storage</li>
<li>node coordinates shape</li>
<li>unique global ID for each node (a node that appears on more than one rank will have the same global ID)</li>
<li>ghost index for each node (0=non-ghost, 1=ghost)</li>
<li>cells (shape={num_cells, nodes_per_cell)}), row-major storage</li>
<li>cell shape (shape={num_cells, nodes_per_cell)}) </li>
</ol>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
