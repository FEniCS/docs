<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linea algebra (dolfinx::la) &mdash; DOLFINx 0.3.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mesh (dolfinx::mesh)" href="mesh.html" />
    <link rel="prev" title="IO (dolfinx::io)" href="io.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DOLFINx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common.html">Common (<code class="docutils literal notranslate"><span class="pre">dolfinx::common</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="geometry.html">Geometry (<code class="docutils literal notranslate"><span class="pre">dolfinx::geometry</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">Graph (<code class="docutils literal notranslate"><span class="pre">dolfinx::graph</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="fem.html">Finite element (<code class="docutils literal notranslate"><span class="pre">dolfinx::fem</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">IO (<code class="docutils literal notranslate"><span class="pre">dolfinx::io</span></code>)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linea algebra (<code class="docutils literal notranslate"><span class="pre">dolfinx::la</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh.html">Mesh (<code class="docutils literal notranslate"><span class="pre">dolfinx::mesh</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="refinement.html">Refinement (<code class="docutils literal notranslate"><span class="pre">dolfinx::refinement</span></code>)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DOLFINx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Linea algebra (<code class="docutils literal notranslate"><span class="pre">dolfinx::la</span></code>)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/la.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linea-algebra-dolfinx-la">
<h1>Linea algebra (<code class="docutils literal notranslate"><span class="pre">dolfinx::la</span></code>)<a class="headerlink" href="#linea-algebra-dolfinx-la" title="Permalink to this headline"></a></h1>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2laE">
<span id="_CPPv3N7dolfinx2laE"></span><span id="_CPPv2N7dolfinx2laE"></span><span id="dolfinx::la"></span><span class="target" id="d6/dfa/namespacedolfinx_1_1la"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dolfinx</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">la</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2laE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Linear algebra interface. </p>
<p>Interface to linear algebra data structures and solvers </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la4NormE">
<span id="_CPPv3N7dolfinx2la4NormE"></span><span id="_CPPv2N7dolfinx2la4NormE"></span><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a2e0f25289c14e546b4ba10dd8fc735e5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Norm</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la4NormE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Norm types. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la4Norm2l1E">
<span id="_CPPv3N7dolfinx2la4Norm2l1E"></span><span id="_CPPv2N7dolfinx2la4Norm2l1E"></span><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a2e0f25289c14e546b4ba10dd8fc735e5a377fd569971eedeba8fbea28434a390a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">l1</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la4Norm2l1E" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la4Norm2l2E">
<span id="_CPPv3N7dolfinx2la4Norm2l2E"></span><span id="_CPPv2N7dolfinx2la4Norm2l2E"></span><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a2e0f25289c14e546b4ba10dd8fc735e5abec25675775e9e0a0d783a5018b463e3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">l2</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la4Norm2l2E" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la4Norm4linfE">
<span id="_CPPv3N7dolfinx2la4Norm4linfE"></span><span id="_CPPv2N7dolfinx2la4Norm4linfE"></span><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a2e0f25289c14e546b4ba10dd8fc735e5a707f3c5e9c59c9e5f347d2cbec59c66b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">linf</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la4Norm4linfE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la4Norm9frobeniusE">
<span id="_CPPv3N7dolfinx2la4Norm9frobeniusE"></span><span id="_CPPv2N7dolfinx2la4Norm9frobeniusE"></span><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a2e0f25289c14e546b4ba10dd8fc735e5aa1ae1f31da9633c9e25dcccb0acc3066"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">frobenius</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la4Norm9frobeniusE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE">
<span id="_CPPv3I00EN7dolfinx2la13inner_productERK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE"></span><span id="_CPPv2I00EN7dolfinx2la13inner_productERK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Allocator</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">allocator</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE" title="dolfinx::la::inner_product::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a8a1c1243f58f5839ae5d19f7d11fcf7d"></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE" title="dolfinx::la::inner_product::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inner_product</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la6VectorE" title="dolfinx::la::Vector"><span class="n"><span class="pre">Vector</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE" title="dolfinx::la::inner_product::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE" title="dolfinx::la::inner_product::Allocator"><span class="n"><span class="pre">Allocator</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">a</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la6VectorE" title="dolfinx::la::Vector"><span class="n"><span class="pre">Vector</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE" title="dolfinx::la::inner_product::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE" title="dolfinx::la::inner_product::Allocator"><span class="n"><span class="pre">Allocator</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN7dolfinx2la13inner_productE1TRK6VectorI1T9AllocatorERK6VectorI1T9AllocatorE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Compute the inner product of two vectors. The two vectors must have the same parallel layout. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Collective </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – A vector </p></li>
<li><p><strong>b</strong> – A vector </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns <code class="docutils literal notranslate"><span class="pre">a^{H}</span> <span class="pre">b</span></code> (<code class="docutils literal notranslate"><span class="pre">a^{T}</span> <span class="pre">b</span></code> if <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are real) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx2la14orthonormalizeEvRKN3xtl4spanI6VectorI1T1UEEEd">
<span id="_CPPv3I00EN7dolfinx2la14orthonormalizeERKN3xtl4spanI6VectorI1T1UEEEd"></span><span id="_CPPv2I00EN7dolfinx2la14orthonormalizeERKN3xtl4spanI6VectorI1T1UEEEd"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">U</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a125e81cc0d8c48d14a23850f1529e34b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">orthonormalize</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">xtl</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la6VectorE" title="dolfinx::la::Vector"><span class="n"><span class="pre">Vector</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la14orthonormalizeEvRKN3xtl4spanI6VectorI1T1UEEEd" title="dolfinx::la::orthonormalize::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la14orthonormalizeEvRKN3xtl4spanI6VectorI1T1UEEEd" title="dolfinx::la::orthonormalize::U"><span class="n"><span class="pre">U</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">basis</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tol</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1.0e-10</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN7dolfinx2la14orthonormalizeEvRKN3xtl4spanI6VectorI1T1UEEEd" title="Permalink to this definition"></a><br /></dt>
<dd><p>Orthonormalize a set of vectors. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basis</strong> – <strong>[inout]</strong> The set of vectors to orthonormalise. The vectors must have identical parallel layouts. The vectors are modified in-place. </p></li>
<li><p><strong>tol</strong> – <strong>[in]</strong> The tolerance used to detect a linear dependency </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx2la14is_orthonormalEbRKN3xtl4spanIK6VectorI1T1UEEEd">
<span id="_CPPv3I00EN7dolfinx2la14is_orthonormalERKN3xtl4spanIK6VectorI1T1UEEEd"></span><span id="_CPPv2I00EN7dolfinx2la14is_orthonormalERKN3xtl4spanIK6VectorI1T1UEEEd"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">U</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d6/dfa/namespacedolfinx_1_1la_1a4adfff33700a1b9e38229650235d1600"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_orthonormal</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">xtl</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la6VectorE" title="dolfinx::la::Vector"><span class="n"><span class="pre">Vector</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la14is_orthonormalEbRKN3xtl4spanIK6VectorI1T1UEEEd" title="dolfinx::la::is_orthonormal::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la14is_orthonormalEbRKN3xtl4spanIK6VectorI1T1UEEEd" title="dolfinx::la::is_orthonormal::U"><span class="n"><span class="pre">U</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">basis</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tol</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1.0e-10</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN7dolfinx2la14is_orthonormalEbRKN3xtl4spanIK6VectorI1T1UEEEd" title="Permalink to this definition"></a><br /></dt>
<dd><p>Test if basis is orthonormal. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basis</strong> – <strong>[in]</strong> The set of vectors to check </p></li>
<li><p><strong>tol</strong> – <strong>[in]</strong> The tolerance used to test for orthonormality </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True is basis is orthonormal, otherwise false </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx2la9MatrixCSRE">
<span id="_CPPv3I00EN7dolfinx2la9MatrixCSRE"></span><span id="_CPPv2I00EN7dolfinx2la9MatrixCSRE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Allocator</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">allocator</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la9MatrixCSRE" title="dolfinx::la::MatrixCSR::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="dc/dfa/classdolfinx_1_1la_1_1MatrixCSR"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MatrixCSR</span></span></span><a class="headerlink" href="#_CPPv4I00EN7dolfinx2la9MatrixCSRE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;MatrixCSR.h&gt;</em></div>
<p>Distributed sparse matrix. </p>
<p>The matrix storage format is compressed sparse row. The matrix is partitioned row-wise across MPI rank.</p>
<p><dl>
<dt class="sig sig-object cpp">
<em><span class="pre">Todo:</span></em></dt>
<dd><p>Handle block sizes </p>
</dd></dl>

</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Highly “experimental” storage of a matrix in CSR format which can be assembled into using the usual dolfinx assembly routines Matrix internal data can be accessed for interfacing with other code.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – The data type for the matrix </p></li>
<li><p><strong>Allocator</strong> – The memory allocator type for the data storage</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la16SLEPcEigenSolverE">
<span id="_CPPv3N7dolfinx2la16SLEPcEigenSolverE"></span><span id="_CPPv2N7dolfinx2la16SLEPcEigenSolverE"></span><span id="dolfinx::la::SLEPcEigenSolver"></span><span class="target" id="d0/d6d/classdolfinx_1_1la_1_1SLEPcEigenSolver"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SLEPcEigenSolver</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la16SLEPcEigenSolverE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;slepc.h&gt;</em></div>
<p>This class provides an eigenvalue solver for PETSc matrices. It is a wrapper for the SLEPc eigenvalue solver. </p>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la15SparsityPatternE">
<span id="_CPPv3N7dolfinx2la15SparsityPatternE"></span><span id="_CPPv2N7dolfinx2la15SparsityPatternE"></span><span id="dolfinx::la::SparsityPattern"></span><span class="target" id="d5/df9/classdolfinx_1_1la_1_1SparsityPattern"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SparsityPattern</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la15SparsityPatternE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;SparsityPattern.h&gt;</em></div>
<p>This class provides a sparsity pattern data structure that can be used to initialize sparse matrices. After assembly, column indices are always sorted in increasing order. Ghost entries are kept after assembly. </p>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I00EN7dolfinx2la6VectorE">
<span id="_CPPv3I00EN7dolfinx2la6VectorE"></span><span id="_CPPv2I00EN7dolfinx2la6VectorE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Allocator</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">allocator</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la6VectorE" title="dolfinx::la::Vector::T"><span class="n"><span class="pre">T</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="d2/d0b/classdolfinx_1_1la_1_1Vector"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Vector</span></span></span><a class="headerlink" href="#_CPPv4I00EN7dolfinx2la6VectorE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;Vector.h&gt;</em></div>
<p>Distributed vector. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la4implE">
<span id="_CPPv3N7dolfinx2la4implE"></span><span id="_CPPv2N7dolfinx2la4implE"></span><span id="dolfinx::la::impl"></span><span class="target" id="d8/d02/namespacedolfinx_1_1la_1_1impl"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">impl</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la4implE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE">
<span id="_CPPv3I0000EN7dolfinx2la4impl7set_csrERR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE"></span><span id="_CPPv2I0000EN7dolfinx2la4impl7set_csrERR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">U</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">V</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">W</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">X</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="dd/d65/MatrixCSR_8h_1ae8d5fee5fe6dbe82322a2d2679dd4df2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_csr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="dolfinx::la::impl::set_csr::U"><span class="n"><span class="pre">U</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="dolfinx::la::impl::set_csr::V"><span class="n"><span class="pre">V</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">cols</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="dolfinx::la::impl::set_csr::V"><span class="n"><span class="pre">V</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">row_ptr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="dolfinx::la::impl::set_csr::W"><span class="n"><span class="pre">W</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="dolfinx::la::impl::set_csr::X"><span class="n"><span class="pre">X</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">xrows</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="dolfinx::la::impl::set_csr::X"><span class="n"><span class="pre">X</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">xcols</span></span>, <span class="pre">[[maybe_unused]]</span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="dolfinx::la::impl::set_csr::X"><span class="n"><span class="pre">X</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value_type</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">local_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0000EN7dolfinx2la4impl7set_csrEvRR1URK1VRK1VRK1WRK1XRK1XN1X10value_typeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set data in a CSR matrix. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <strong>[out]</strong> The CSR matrix data </p></li>
<li><p><strong>cols</strong> – <strong>[in]</strong> The CSR column indices </p></li>
<li><p><strong>row_ptr</strong> – <strong>[in]</strong> The pointer to the ith row in the CSR data </p></li>
<li><p><strong>x</strong> – <strong>[in]</strong> The <code class="docutils literal notranslate"><span class="pre">m</span></code> by <code class="docutils literal notranslate"><span class="pre">n</span></code> dense block of values (row-major) to set in the matrix </p></li>
<li><p><strong>xrows</strong> – <strong>[in]</strong> The row indices of <code class="docutils literal notranslate"><span class="pre">x</span></code> </p></li>
<li><p><strong>xcols</strong> – <strong>[in]</strong> The column indices of <code class="docutils literal notranslate"><span class="pre">x</span></code> </p></li>
<li><p><strong>local_size</strong> – <strong>[in]</strong> The maximum row index that can be set. Used when debugging is own to check that rows beyond a permitted range are not being set. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X">
<span id="_CPPv3I0000EN7dolfinx2la4impl7add_csrERR1URK1VRK1VRK1WRK1XRK1X"></span><span id="_CPPv2I0000EN7dolfinx2la4impl7add_csrERR1URK1VRK1VRK1WRK1XRK1X"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">U</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">V</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">W</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">X</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="dd/d65/MatrixCSR_8h_1ac381788112f5a0da8408d687eb0477cb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">add_csr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X" title="dolfinx::la::impl::add_csr::U"><span class="n"><span class="pre">U</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X" title="dolfinx::la::impl::add_csr::V"><span class="n"><span class="pre">V</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">cols</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X" title="dolfinx::la::impl::add_csr::V"><span class="n"><span class="pre">V</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">row_ptr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X" title="dolfinx::la::impl::add_csr::W"><span class="n"><span class="pre">W</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X" title="dolfinx::la::impl::add_csr::X"><span class="n"><span class="pre">X</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">xrows</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X" title="dolfinx::la::impl::add_csr::X"><span class="n"><span class="pre">X</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">xcols</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0000EN7dolfinx2la4impl7add_csrEvRR1URK1VRK1VRK1WRK1XRK1X" title="Permalink to this definition"></a><br /></dt>
<dd><p>Add data to a CSR matrix. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <strong>[out]</strong> The CSR matrix data </p></li>
<li><p><strong>cols</strong> – <strong>[in]</strong> The CSR column indices </p></li>
<li><p><strong>row_ptr</strong> – <strong>[in]</strong> The pointer to the ith row in the CSR data </p></li>
<li><p><strong>x</strong> – <strong>[in]</strong> The <code class="docutils literal notranslate"><span class="pre">m</span></code> by <code class="docutils literal notranslate"><span class="pre">n</span></code> dense block of values (row-major) to add to the matrix </p></li>
<li><p><strong>xrows</strong> – <strong>[in]</strong> The row indices of <code class="docutils literal notranslate"><span class="pre">x</span></code> </p></li>
<li><p><strong>xcols</strong> – <strong>[in]</strong> The column indices of <code class="docutils literal notranslate"><span class="pre">x</span></code> </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petscE">
<span id="_CPPv3N7dolfinx2la5petscE"></span><span id="_CPPv2N7dolfinx2la5petscE"></span><span id="dolfinx::la::petsc"></span><span class="target" id="d6/d2f/namespacedolfinx_1_1la_1_1petsc"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">petsc</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petscE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc5errorEiNSt6stringENSt6stringE">
<span id="_CPPv3N7dolfinx2la5petsc5errorEiNSt6stringENSt6stringE"></span><span id="_CPPv2N7dolfinx2la5petsc5errorEiNSt6stringENSt6stringE"></span><span id="dolfinx::la::petsc::error__i.ss.ss"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a642187b63ddbe119f8a8cbebb7dbb670"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">error</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">error_code</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">filename</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">petsc_function</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc5errorEiNSt6stringENSt6stringE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Print error message for PETSc calls that return an error. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc14create_vectorsE8MPI_CommRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEE">
<span id="_CPPv3N7dolfinx2la5petsc14create_vectorsE8MPI_CommRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEE"></span><span id="_CPPv2N7dolfinx2la5petsc14create_vectorsE8MPI_CommRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEE"></span><span id="dolfinx::la::petsc::create_vectors__MPI_Comm.std::vector:xtl::span:PetscScalarC::CR"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a24b9a100888f68a3d5e87d37f711aca6"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">Vec</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_vectors</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">xtl</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">PetscScalar</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc14create_vectorsE8MPI_CommRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create PETsc vectors from the local data. The data is copied into the PETSc vectors and is not shared. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Caller is responsible for destroying the returned object </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> The MPI communicator </p></li>
<li><p><strong>x</strong> – <strong>[in]</strong> The vector data owned by the calling rank. All components must have the same length. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of PETSc vectors </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc13create_vectorERKN6common8IndexMapEi">
<span id="_CPPv3N7dolfinx2la5petsc13create_vectorERKN6common8IndexMapEi"></span><span id="_CPPv2N7dolfinx2la5petsc13create_vectorERKN6common8IndexMapEi"></span><span id="dolfinx::la::petsc::create_vector__common::IndexMapCR.i"></span><span class="target" id="dd/dd6/la_2petsc_8h_1ad5155dda717442637f48a2c9b626cc89"></span><span class="n"><span class="pre">Vec</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_vector</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6commonE" title="dolfinx::common"><span class="n"><span class="pre">common</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc13create_vectorERKN6common8IndexMapEi" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create a ghosted PETSc Vec. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Caller is responsible for destroying the returned object </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map</strong> – <strong>[in]</strong> The index map describing the parallel layout (by block) </p></li>
<li><p><strong>bs</strong> – <strong>[in]</strong> The block size </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A PETSc Vec </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc13create_vectorE8MPI_CommNSt5arrayINSt7int64_tEXL2EEEERKN3xtl4spanIKNSt7int64_tEEEi">
<span id="_CPPv3N7dolfinx2la5petsc13create_vectorE8MPI_CommNSt5arrayINSt7int64_tEXL2EEEERKN3xtl4spanIKNSt7int64_tEEEi"></span><span id="_CPPv2N7dolfinx2la5petsc13create_vectorE8MPI_CommNSt5arrayINSt7int64_tEX2EEERKN3xtl4spanIKNSt7int64_tEEEi"></span><span id="dolfinx::la::petsc::create_vector__MPI_Comm.std::array:std::int64_t.2:.xtl::span:std::int64_tC:CR.i"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a594f722615ea7dcd60f4ba6fb2cc1861"></span><span class="n"><span class="pre">Vec</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_vector</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">range</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">xtl</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">int64_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ghosts</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc13create_vectorE8MPI_CommNSt5arrayINSt7int64_tEXL2EEEERKN3xtl4spanIKNSt7int64_tEEEi" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create a ghosted PETSc Vec from a local range and ghost indices. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Caller is responsible for freeing the returned object </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> The MPI communicator </p></li>
<li><p><strong>range</strong> – <strong>[in]</strong> The local ownership range (by blocks) </p></li>
<li><p><strong>ghosts</strong> – <strong>[in]</strong> Ghost blocks </p></li>
<li><p><strong>bs</strong> – <strong>[in]</strong> The block size. The total number of local entries is <code class="docutils literal notranslate"><span class="pre">bs</span> <span class="pre">*</span> <span class="pre">(range[1]</span> <span class="pre">-</span> <span class="pre">range[0])</span></code>. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A PETSc Vec </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc18create_vector_wrapERKN6common8IndexMapEiRKN3xtl4spanIK11PetscScalarEE">
<span id="_CPPv3N7dolfinx2la5petsc18create_vector_wrapERKN6common8IndexMapEiRKN3xtl4spanIK11PetscScalarEE"></span><span id="_CPPv2N7dolfinx2la5petsc18create_vector_wrapERKN6common8IndexMapEiRKN3xtl4spanIK11PetscScalarEE"></span><span id="dolfinx::la::petsc::create_vector_wrap__common::IndexMapCR.i.xtl::span:PetscScalarC:CR"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a68dd7edb8f6837c9fd5f99d6b012bbc4"></span><span class="n"><span class="pre">Vec</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_vector_wrap</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6commonE" title="dolfinx::common"><span class="n"><span class="pre">common</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">map</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">xtl</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">PetscScalar</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc18create_vector_wrapERKN6common8IndexMapEiRKN3xtl4spanIK11PetscScalarEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create a PETSc Vec that wraps the data in an array. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The array <code class="docutils literal notranslate"><span class="pre">x</span></code> must be kept alive to use the PETSc Vec object </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The caller should call VecDestroy to free the return PETSc vector </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map</strong> – <strong>[in]</strong> The index map that describes the parallel layout of the distributed vector (by block) </p></li>
<li><p><strong>bs</strong> – <strong>[in]</strong> Block size </p></li>
<li><p><strong>x</strong> – <strong>[in]</strong> The local part of the vector, including ghost entries </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A PETSc Vec object that shares the data in <code class="docutils literal notranslate"><span class="pre">x</span></code> </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx2la5petsc18create_vector_wrapE3VecRKN2la6VectorI11PetscScalar9AllocatorEE">
<span id="_CPPv3I0EN7dolfinx2la5petsc18create_vector_wrapERKN2la6VectorI11PetscScalar9AllocatorEE"></span><span id="_CPPv2I0EN7dolfinx2la5petsc18create_vector_wrapERKN2la6VectorI11PetscScalar9AllocatorEE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Allocator</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="dd/dd6/la_2petsc_8h_1a3bbc463d8c61c95402e5aaa4df7a1332"></span><span class="n"><span class="pre">Vec</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_vector_wrap</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx2laE" title="dolfinx::la"><span class="n"><span class="pre">la</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4I00EN7dolfinx2la6VectorE" title="dolfinx::la::Vector"><span class="n"><span class="pre">Vector</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">PetscScalar</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx2la5petsc18create_vector_wrapE3VecRKN2la6VectorI11PetscScalar9AllocatorEE" title="dolfinx::la::petsc::create_vector_wrap::Allocator"><span class="n"><span class="pre">Allocator</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx2la5petsc18create_vector_wrapE3VecRKN2la6VectorI11PetscScalar9AllocatorEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create a PETSc Vec that wraps the data in an array. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – <strong>[in]</strong> The vector to be wrapped </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A PETSc Vec object that shares the data in <code class="docutils literal notranslate"><span class="pre">x</span></code> </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc17create_index_setsERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE">
<span id="_CPPv3N7dolfinx2la5petsc17create_index_setsERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE"></span><span id="_CPPv2N7dolfinx2la5petsc17create_index_setsERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE"></span><span id="dolfinx::la::petsc::create_index_sets__std::vector:std::pair:std::reference_wrapper:common::IndexMapC:.i::CR"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a35ea3b2908c493a410a087f911c57d73"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">IS</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_index_sets</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">reference_wrapper</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6commonE" title="dolfinx::common"><span class="n"><span class="pre">common</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">maps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc17create_index_setsERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE" title="Permalink to this definition"></a><br /></dt>
<dd><p><dl>
<dt class="sig sig-object cpp">
<em><span class="pre">Todo:</span></em></dt>
<dd><p>This function could take just the local sizes</p>
</dd></dl>

</p>
<p>Compute PETSc IndexSets (IS) for a stack of index maps. E.g., if <code class="docutils literal notranslate"><span class="pre">map[0]</span> <span class="pre">=</span> <span class="pre">{0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6}</span></code> and <code class="docutils literal notranslate"><span class="pre">map[1]</span> <span class="pre">=</span> <span class="pre">{0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">4}</span></code> (in local indices) then <code class="docutils literal notranslate"><span class="pre">IS[0]</span> <span class="pre">=</span> <span class="pre">{0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6}</span></code> and <code class="docutils literal notranslate"><span class="pre">IS[1]</span> <span class="pre">=</span> <span class="pre">{7,</span> <span class="pre">8,</span> <span class="pre">9,</span> <span class="pre">10}</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The caller is responsible for destruction of each IS.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>maps</strong> – <strong>[in]</strong> <a class="reference internal" href="#dd/d35/classdolfinx_1_1la_1_1petsc_1_1Vector"><span class="std std-ref">Vector</span></a> of IndexMaps and corresponding block sizes </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#dd/d35/classdolfinx_1_1la_1_1petsc_1_1Vector"><span class="std std-ref">Vector</span></a> of PETSc Index Sets, created on<code class="docutils literal notranslate"><span class="pre">PETSC_COMM_SELF</span></code> </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc17get_local_vectorsEK3VecRKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE">
<span id="_CPPv3N7dolfinx2la5petsc17get_local_vectorsEK3VecRKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE"></span><span id="_CPPv2N7dolfinx2la5petsc17get_local_vectorsEK3VecRKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE"></span><span id="dolfinx::la::petsc::get_local_vectors__VecC.std::vector:std::pair:std::reference_wrapper:common::IndexMapC:.i::CR"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a5a882ba13b8162f09b4a7acf13862023"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">PetscScalar</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_local_vectors</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Vec</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">x</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">reference_wrapper</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6commonE" title="dolfinx::common"><span class="n"><span class="pre">common</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">maps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc17get_local_vectorsEK3VecRKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Copy blocks from Vec into local vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc21scatter_local_vectorsE3VecRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE">
<span id="_CPPv3N7dolfinx2la5petsc21scatter_local_vectorsE3VecRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE"></span><span id="_CPPv2N7dolfinx2la5petsc21scatter_local_vectorsE3VecRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE"></span><span id="dolfinx::la::petsc::scatter_local_vectors__Vec.std::vector:xtl::span:PetscScalarC::CR.std::vector:std::pair:std::reference_wrapper:common::IndexMapC:.i::CR"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a544a38d6ef16f0e0319156518a420e6a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scatter_local_vectors</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Vec</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">x</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">xtl</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">PetscScalar</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x_b</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">reference_wrapper</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6commonE" title="dolfinx::common"><span class="n"><span class="pre">common</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="common.html#_CPPv4N7dolfinx6common8IndexMapE" title="dolfinx::common::IndexMap"><span class="n"><span class="pre">IndexMap</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">maps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc21scatter_local_vectorsE3VecRKNSt6vectorIN3xtl4spanIK11PetscScalarEEEERKNSt6vectorINSt4pairINSt17reference_wrapperIKN6common8IndexMapEEEiEEEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Scatter local vectors to Vec. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc13create_matrixE8MPI_CommRK15SparsityPatternRKNSt6stringE">
<span id="_CPPv3N7dolfinx2la5petsc13create_matrixE8MPI_CommRK15SparsityPatternRKNSt6stringE"></span><span id="_CPPv2N7dolfinx2la5petsc13create_matrixE8MPI_CommRK15SparsityPatternRKNSt6stringE"></span><span id="dolfinx::la::petsc::create_matrix__MPI_Comm.SparsityPatternCR.ssCR"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a92897184a7dad8d2b73dae709947baa5"></span><span class="n"><span class="pre">Mat</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_matrix</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx2la15SparsityPatternE" title="dolfinx::la::SparsityPattern"><span class="n"><span class="pre">SparsityPattern</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">sp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">type</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc13create_matrixE8MPI_CommRK15SparsityPatternRKNSt6stringE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create a PETSc Mat. Caller is responsible for destroying the returned object. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc16create_nullspaceE8MPI_CommRKN3xtl4spanIK3VecEE">
<span id="_CPPv3N7dolfinx2la5petsc16create_nullspaceE8MPI_CommRKN3xtl4spanIK3VecEE"></span><span id="_CPPv2N7dolfinx2la5petsc16create_nullspaceE8MPI_CommRKN3xtl4spanIK3VecEE"></span><span id="dolfinx::la::petsc::create_nullspace__MPI_Comm.xtl::span:VecC:CR"></span><span class="target" id="dd/dd6/la_2petsc_8h_1a468ff0c32f4ac43a1d11c82da62b6673"></span><span class="n"><span class="pre">MatNullSpace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create_nullspace</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MPI_Comm</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">comm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">xtl</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">span</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Vec</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">basis</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc16create_nullspaceE8MPI_CommRKN3xtl4spanIK3VecEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create PETSc MatNullSpace. Caller is responsible for destruction returned object. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – <strong>[in]</strong> The MPI communicator </p></li>
<li><p><strong>basis</strong> – <strong>[in]</strong> The nullspace basis vectors </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A PETSc nullspace object </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc6VectorE">
<span id="_CPPv3N7dolfinx2la5petsc6VectorE"></span><span id="_CPPv2N7dolfinx2la5petsc6VectorE"></span><span id="dolfinx::la::petsc::Vector"></span><span class="target" id="dd/d35/classdolfinx_1_1la_1_1petsc_1_1Vector"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Vector</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc6VectorE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;petsc.h&gt;</em></div>
<p>A simple wrapper for a PETSc vector pointer (Vec). Its main purpose is to assist with memory/lifetime management of PETSc Vec objects. </p>
<p>Access the underlying PETSc Vec pointer using the function Vector::vec() and use the full PETSc interface. </p>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc8OperatorE">
<span id="_CPPv3N7dolfinx2la5petsc8OperatorE"></span><span id="_CPPv2N7dolfinx2la5petsc8OperatorE"></span><span id="dolfinx::la::petsc::Operator"></span><span class="target" id="db/d4b/classdolfinx_1_1la_1_1petsc_1_1Operator"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Operator</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc8OperatorE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;petsc.h&gt;</em></div>
<p>This class is a base class for matrices that can be used in <a class="reference internal" href="#d2/dde/classdolfinx_1_1la_1_1petsc_1_1KrylovSolver"><span class="std std-ref">petsc::KrylovSolver</span></a>. </p>
<p>Subclassed by <a class="reference internal" href="#de/d18/classdolfinx_1_1la_1_1petsc_1_1Matrix"><span class="std std-ref">Matrix</span></a></p>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc6MatrixE">
<span id="_CPPv3N7dolfinx2la5petsc6MatrixE"></span><span id="_CPPv2N7dolfinx2la5petsc6MatrixE"></span><span id="dolfinx::la::petsc::Matrix"></span><span class="target" id="de/d18/classdolfinx_1_1la_1_1petsc_1_1Matrix"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Matrix</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N7dolfinx2la5petsc8OperatorE" title="dolfinx::la::petsc::Operator"><span class="n"><span class="pre">Operator</span></span></a><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc6MatrixE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;petsc.h&gt;</em></div>
<p>It is a simple wrapper for a PETSc matrix pointer (Mat). Its main purpose is to assist memory management of PETSc Mat objects. </p>
<p>For advanced usage, access the PETSc Mat pointer using the function mat() and use the standard PETSc interface. </p>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc12KrylovSolverE">
<span id="_CPPv3N7dolfinx2la5petsc12KrylovSolverE"></span><span id="_CPPv2N7dolfinx2la5petsc12KrylovSolverE"></span><span id="dolfinx::la::petsc::KrylovSolver"></span><span class="target" id="d2/dde/classdolfinx_1_1la_1_1petsc_1_1KrylovSolver"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">KrylovSolver</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc12KrylovSolverE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;petsc.h&gt;</em></div>
<p>This class implements Krylov methods for linear systems of the form Ax = b. It is a wrapper for the Krylov solvers of PETSc. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc7optionsE">
<span id="_CPPv3N7dolfinx2la5petsc7optionsE"></span><span id="_CPPv2N7dolfinx2la5petsc7optionsE"></span><span id="dolfinx::la::petsc::options"></span><span class="target" id="dd/d01/namespacedolfinx_1_1la_1_1petsc_1_1options"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">options</span></span></span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc7optionsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>These class provides static functions that permit users to set and retrieve PETSc options via the PETSc option/parameter system. The option must not be prefixed by ‘-’, e.g. </p>
<p><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">la</span><span class="o">::</span><span class="n">petsc</span><span class="o">::</span><span class="n">options</span><span class="o">::</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;mat_mumps_icntl_14&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
</pre></div>
</div>
 </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc7options3setENSt6stringE">
<span id="_CPPv3N7dolfinx2la5petsc7options3setENSt6stringE"></span><span id="_CPPv2N7dolfinx2la5petsc7options3setENSt6stringE"></span><span id="dolfinx::la::petsc::options::set__ss"></span><span class="target" id="dd/d01/namespacedolfinx_1_1la_1_1petsc_1_1options_1aff6d47e0209b632772fec95a417f72fa"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">option</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc7options3setENSt6stringE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set PETSc option that takes no value. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN7dolfinx2la5petsc7options3setEvNSt6stringEK1T">
<span id="_CPPv3I0EN7dolfinx2la5petsc7options3setENSt6stringEK1T"></span><span id="_CPPv2I0EN7dolfinx2la5petsc7options3setENSt6stringEK1T"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="dd/d01/namespacedolfinx_1_1la_1_1petsc_1_1options_1a07a724673d588372f01c693ae2980283"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">option</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN7dolfinx2la5petsc7options3setEvNSt6stringEK1T" title="dolfinx::la::petsc::options::set::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN7dolfinx2la5petsc7options3setEvNSt6stringEK1T" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generic function for setting PETSc option. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc7options5clearENSt6stringE">
<span id="_CPPv3N7dolfinx2la5petsc7options5clearENSt6stringE"></span><span id="_CPPv2N7dolfinx2la5petsc7options5clearENSt6stringE"></span><span id="dolfinx::la::petsc::options::clear__ss"></span><span class="target" id="dd/d01/namespacedolfinx_1_1la_1_1petsc_1_1options_1ae61761e2af400bc975600f7571bcbd74"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clear</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">option</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc7options5clearENSt6stringE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Clear a PETSc option. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7dolfinx2la5petsc7options5clearEv">
<span id="_CPPv3N7dolfinx2la5petsc7options5clearEv"></span><span id="_CPPv2N7dolfinx2la5petsc7options5clearEv"></span><span id="dolfinx::la::petsc::options::clear"></span><span class="target" id="dd/d01/namespacedolfinx_1_1la_1_1petsc_1_1options_1ac8bb3912a3ce86b15842e79d0b421204"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clear</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7dolfinx2la5petsc7options5clearEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Clear PETSc global options database. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="io.html" class="btn btn-neutral float-left" title="IO (dolfinx::io)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mesh.html" class="btn btn-neutral float-right" title="Mesh (dolfinx::mesh)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, FEniCS Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>