<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DOLFINx: dolfinx::common::IndexMap Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DOLFINx
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">DOLFINx C++ interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>dolfinx</b></li><li class="navelem"><a class="el" href="../../d7/de1/namespacedolfinx_1_1common.html">common</a></li><li class="navelem"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html">IndexMap</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d5/daa/classdolfinx_1_1common_1_1IndexMap-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dolfinx::common::IndexMap Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents the distribution index arrays across processes. An index array is a contiguous collection of N+1 indices [0, 1, . . ., N] that are distributed across M processes. On a given process, the <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html" title="This class represents the distribution index arrays across processes. An index array is a contiguous ...">IndexMap</a> stores a portion of the index set using local indices [0, 1, . . . , n], and a map from the local indices to a unique global index.  
 <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/d74/IndexMap_8h_source.html">IndexMap.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3e4b4f8aa5b81ea60948b3dde1221814"><td class="memItemLeft" align="right" valign="top"><a id="a3e4b4f8aa5b81ea60948b3dde1221814"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a3e4b4f8aa5b81ea60948b3dde1221814">Mode</a> { <b>insert</b>, 
<b>add</b>
 }</td></tr>
<tr class="memdesc:a3e4b4f8aa5b81ea60948b3dde1221814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mode for reverse scatter operation. <br /></td></tr>
<tr class="separator:a3e4b4f8aa5b81ea60948b3dde1221814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1afdbb7c079549d37cd39f20662e63"><td class="memItemLeft" align="right" valign="top"><a id="a6c1afdbb7c079549d37cd39f20662e63"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a6c1afdbb7c079549d37cd39f20662e63">Direction</a> { <b>reverse</b>, 
<b>forward</b>, 
<b>symmetric</b>
 }</td></tr>
<tr class="memdesc:a6c1afdbb7c079549d37cd39f20662e63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edge directions of neighborhood communicator. <br /></td></tr>
<tr class="separator:a6c1afdbb7c079549d37cd39f20662e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8a71fe91a00fc079d186a2de4447013f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a8a71fe91a00fc079d186a2de4447013f">IndexMap</a> (MPI_Comm <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a252576fb7b50ee4e9414b7a95a5e3719">comm</a>, std::int32_t local_size)</td></tr>
<tr class="memdesc:a8a71fe91a00fc079d186a2de4447013f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an non-overlapping index map with local_size owned on this process.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a8a71fe91a00fc079d186a2de4447013f">More...</a><br /></td></tr>
<tr class="separator:a8a71fe91a00fc079d186a2de4447013f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075e12a468017e6744ea0405481c3215"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a075e12a468017e6744ea0405481c3215">IndexMap</a> (MPI_Comm mpi_comm, std::int32_t local_size, const std::vector&lt; int &gt; &amp;dest_ranks, const std::vector&lt; std::int64_t &gt; &amp;<a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#ad781ca8d8769372724307e8a0dea8ecf">ghosts</a>, const std::vector&lt; int &gt; &amp;src_ranks)</td></tr>
<tr class="memdesc:a075e12a468017e6744ea0405481c3215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an index map with local_size owned indiced on this process.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a075e12a468017e6744ea0405481c3215">More...</a><br /></td></tr>
<tr class="separator:a075e12a468017e6744ea0405481c3215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60a33c5395d4fbec8e2b530363e6702"><td class="memItemLeft" align="right" valign="top"><a id="ae60a33c5395d4fbec8e2b530363e6702"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>IndexMap</b> (const <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html">IndexMap</a> &amp;map)=delete</td></tr>
<tr class="separator:ae60a33c5395d4fbec8e2b530363e6702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45586491a2368624bd0e5f5167fd7a7a"><td class="memItemLeft" align="right" valign="top"><a id="a45586491a2368624bd0e5f5167fd7a7a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a45586491a2368624bd0e5f5167fd7a7a">IndexMap</a> (<a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html">IndexMap</a> &amp;&amp;map)=default</td></tr>
<tr class="memdesc:a45586491a2368624bd0e5f5167fd7a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor. <br /></td></tr>
<tr class="separator:a45586491a2368624bd0e5f5167fd7a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352154a29fe044d65f9998ddf22a4b71"><td class="memItemLeft" align="right" valign="top"><a id="a352154a29fe044d65f9998ddf22a4b71"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a352154a29fe044d65f9998ddf22a4b71">~IndexMap</a> ()=default</td></tr>
<tr class="memdesc:a352154a29fe044d65f9998ddf22a4b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a352154a29fe044d65f9998ddf22a4b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef474de0263ef5fa7c94549dbfe89d4"><td class="memItemLeft" align="right" valign="top"><a id="a9ef474de0263ef5fa7c94549dbfe89d4"></a>
<a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html">IndexMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a9ef474de0263ef5fa7c94549dbfe89d4">operator=</a> (<a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html">IndexMap</a> &amp;&amp;map)=default</td></tr>
<tr class="memdesc:a9ef474de0263ef5fa7c94549dbfe89d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment. <br /></td></tr>
<tr class="separator:a9ef474de0263ef5fa7c94549dbfe89d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca488552553c9fadad5576580104d427"><td class="memItemLeft" align="right" valign="top"><a id="aca488552553c9fadad5576580104d427"></a>
<a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html">IndexMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html">IndexMap</a> &amp;map)=delete</td></tr>
<tr class="separator:aca488552553c9fadad5576580104d427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dfebcc2062c911c5223db370629d383"><td class="memItemLeft" align="right" valign="top"><a id="a3dfebcc2062c911c5223db370629d383"></a>
std::array&lt; std::int64_t, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a3dfebcc2062c911c5223db370629d383">local_range</a> () const noexcept</td></tr>
<tr class="memdesc:a3dfebcc2062c911c5223db370629d383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Range of indices (global) owned by this process. <br /></td></tr>
<tr class="separator:a3dfebcc2062c911c5223db370629d383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c3670a05d295c0989ac299b3724f241"><td class="memItemLeft" align="right" valign="top"><a id="a8c3670a05d295c0989ac299b3724f241"></a>
std::int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a8c3670a05d295c0989ac299b3724f241">num_ghosts</a> () const noexcept</td></tr>
<tr class="memdesc:a8c3670a05d295c0989ac299b3724f241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of ghost indices on this process. <br /></td></tr>
<tr class="separator:a8c3670a05d295c0989ac299b3724f241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affefbc546db400040ae83e74d37d59b7"><td class="memItemLeft" align="right" valign="top"><a id="affefbc546db400040ae83e74d37d59b7"></a>
std::int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#affefbc546db400040ae83e74d37d59b7">size_local</a> () const noexcept</td></tr>
<tr class="memdesc:affefbc546db400040ae83e74d37d59b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of indices owned by on this process. <br /></td></tr>
<tr class="separator:affefbc546db400040ae83e74d37d59b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7294a0a410a14a9bd3de4d4c427b68bf"><td class="memItemLeft" align="right" valign="top"><a id="a7294a0a410a14a9bd3de4d4c427b68bf"></a>
std::int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a7294a0a410a14a9bd3de4d4c427b68bf">size_global</a> () const noexcept</td></tr>
<tr class="memdesc:a7294a0a410a14a9bd3de4d4c427b68bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number indices across communicator. <br /></td></tr>
<tr class="separator:a7294a0a410a14a9bd3de4d4c427b68bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad781ca8d8769372724307e8a0dea8ecf"><td class="memItemLeft" align="right" valign="top"><a id="ad781ca8d8769372724307e8a0dea8ecf"></a>
const std::vector&lt; std::int64_t &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#ad781ca8d8769372724307e8a0dea8ecf">ghosts</a> () const noexcept</td></tr>
<tr class="memdesc:ad781ca8d8769372724307e8a0dea8ecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local-to-global map for ghosts (local indexing beyond end of local range) <br /></td></tr>
<tr class="separator:ad781ca8d8769372724307e8a0dea8ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a252576fb7b50ee4e9414b7a95a5e3719"><td class="memItemLeft" align="right" valign="top">MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a252576fb7b50ee4e9414b7a95a5e3719">comm</a> (<a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a6c1afdbb7c079549d37cd39f20662e63">Direction</a> dir=Direction::symmetric) const</td></tr>
<tr class="memdesc:a252576fb7b50ee4e9414b7a95a5e3719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a <a class="el" href="../../de/dbf/classdolfinx_1_1MPI.html" title="This class provides utility functions for easy communication with MPI and handles cases when DOLFINx ...">MPI</a> communicator with attached distributed graph topology information.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a252576fb7b50ee4e9414b7a95a5e3719">More...</a><br /></td></tr>
<tr class="separator:a252576fb7b50ee4e9414b7a95a5e3719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bf41711f68158f82810e123324cdb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#ae6bf41711f68158f82810e123324cdb8">local_to_global</a> (const xtl::span&lt; const std::int32_t &gt; &amp;local, const xtl::span&lt; std::int64_t &gt; &amp;global) const</td></tr>
<tr class="memdesc:ae6bf41711f68158f82810e123324cdb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute global indices for array of local indices.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#ae6bf41711f68158f82810e123324cdb8">More...</a><br /></td></tr>
<tr class="separator:ae6bf41711f68158f82810e123324cdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3483bb36802574f2c5837fa4116e7a7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a3483bb36802574f2c5837fa4116e7a7a">global_to_local</a> (const xtl::span&lt; const std::int64_t &gt; &amp;global, const xtl::span&lt; std::int32_t &gt; &amp;local) const</td></tr>
<tr class="memdesc:a3483bb36802574f2c5837fa4116e7a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute local indices for array of global indices.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a3483bb36802574f2c5837fa4116e7a7a">More...</a><br /></td></tr>
<tr class="separator:a3483bb36802574f2c5837fa4116e7a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866f40d014bebea5122941892306be27"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a866f40d014bebea5122941892306be27">global_indices</a> () const</td></tr>
<tr class="memdesc:a866f40d014bebea5122941892306be27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global indices.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a866f40d014bebea5122941892306be27">More...</a><br /></td></tr>
<tr class="separator:a866f40d014bebea5122941892306be27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41131d1e6226ac3232cb6bbe9082776"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../df/d84/classdolfinx_1_1graph_1_1AdjacencyList.html">graph::AdjacencyList</a>&lt; std::int32_t &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#ad41131d1e6226ac3232cb6bbe9082776">shared_indices</a> () const noexcept</td></tr>
<tr class="separator:ad41131d1e6226ac3232cb6bbe9082776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a1cec37a01986df96cb9400a04dd63"><td class="memItemLeft" align="right" valign="top"><a id="a31a1cec37a01986df96cb9400a04dd63"></a>
std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a31a1cec37a01986df96cb9400a04dd63">ghost_owner_rank</a> () const</td></tr>
<tr class="memdesc:a31a1cec37a01986df96cb9400a04dd63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Owner rank (on global communicator) of each ghost entry. <br /></td></tr>
<tr class="separator:a31a1cec37a01986df96cb9400a04dd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d771fa2d7c71b6f0746241dfedc6a3"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::int32_t, std::set&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a09d771fa2d7c71b6f0746241dfedc6a3">compute_shared_indices</a> () const</td></tr>
<tr class="separator:a09d771fa2d7c71b6f0746241dfedc6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ee86a2becbe0637c283d40468e406d"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab4ee86a2becbe0637c283d40468e406d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#ab4ee86a2becbe0637c283d40468e406d">scatter_fwd</a> (xtl::span&lt; const T &gt; local_data, xtl::span&lt; T &gt; remote_data, int n) const</td></tr>
<tr class="memdesc:ab4ee86a2becbe0637c283d40468e406d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send n values for each index that is owned to processes that have the index as a ghost. The size of the input array local_data must be the same as n * <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#affefbc546db400040ae83e74d37d59b7" title="Number of indices owned by on this process.">size_local()</a>.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#ab4ee86a2becbe0637c283d40468e406d">More...</a><br /></td></tr>
<tr class="separator:ab4ee86a2becbe0637c283d40468e406d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1256ed653547c3e6ecc4ef425c0ad7"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aaf1256ed653547c3e6ecc4ef425c0ad7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#aaf1256ed653547c3e6ecc4ef425c0ad7">scatter_rev</a> (xtl::span&lt; T &gt; local_data, xtl::span&lt; const T &gt; remote_data, int n, <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a3e4b4f8aa5b81ea60948b3dde1221814">IndexMap::Mode</a> op) const</td></tr>
<tr class="memdesc:aaf1256ed653547c3e6ecc4ef425c0ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send n values for each ghost index to owning to the process.  <a href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#aaf1256ed653547c3e6ecc4ef425c0ad7">More...</a><br /></td></tr>
<tr class="separator:aaf1256ed653547c3e6ecc4ef425c0ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represents the distribution index arrays across processes. An index array is a contiguous collection of N+1 indices [0, 1, . . ., N] that are distributed across M processes. On a given process, the <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html" title="This class represents the distribution index arrays across processes. An index array is a contiguous ...">IndexMap</a> stores a portion of the index set using local indices [0, 1, . . . , n], and a map from the local indices to a unique global index. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8a71fe91a00fc079d186a2de4447013f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a71fe91a00fc079d186a2de4447013f">&#9670;&nbsp;</a></span>IndexMap() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IndexMap::IndexMap </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int32_t&#160;</td>
          <td class="paramname"><em>local_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an non-overlapping index map with local_size owned on this process. </p>
<dl class="section note"><dt>Note</dt><dd>Collective </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">comm</td><td>The <a class="el" href="../../de/dbf/classdolfinx_1_1MPI.html" title="This class provides utility functions for easy communication with MPI and handles cases when DOLFINx ...">MPI</a> communicator </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">local_size</td><td>Local size of the <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html" title="This class represents the distribution index arrays across processes. An index array is a contiguous ...">IndexMap</a>, i.e. the number of owned entries </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a075e12a468017e6744ea0405481c3215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a075e12a468017e6744ea0405481c3215">&#9670;&nbsp;</a></span>IndexMap() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IndexMap::IndexMap </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>mpi_comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int32_t&#160;</td>
          <td class="paramname"><em>local_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>dest_ranks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ghosts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>src_ranks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an index map with local_size owned indiced on this process. </p>
<dl class="section note"><dt>Note</dt><dd>Collective </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mpi_comm</td><td>The <a class="el" href="../../de/dbf/classdolfinx_1_1MPI.html" title="This class provides utility functions for easy communication with MPI and handles cases when DOLFINx ...">MPI</a> communicator </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">local_size</td><td>Local size of the <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html" title="This class represents the distribution index arrays across processes. An index array is a contiguous ...">IndexMap</a>, i.e. the number of owned entries </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest_ranks</td><td>Ranks that 'ghost' indices that are owned by the calling rank. I.e., ranks that the caller will send data to when updating ghost values. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ghosts</td><td>The global indices of ghost entries </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src_ranks</td><td>Owner rank (on global communicator) of each entry in <code>ghosts</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a252576fb7b50ee4e9414b7a95a5e3719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a252576fb7b50ee4e9414b7a95a5e3719">&#9670;&nbsp;</a></span>comm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm IndexMap::comm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a6c1afdbb7c079549d37cd39f20662e63">Direction</a>&#160;</td>
          <td class="paramname"><em>dir</em> = <code>Direction::symmetric</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a <a class="el" href="../../de/dbf/classdolfinx_1_1MPI.html" title="This class provides utility functions for easy communication with MPI and handles cases when DOLFINx ...">MPI</a> communicator with attached distributed graph topology information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>Edge direction of communicator (forward, reverse, symmetric) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A neighborhood communicator for the specified edge direction </dd></dl>

</div>
</div>
<a id="a09d771fa2d7c71b6f0746241dfedc6a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d771fa2d7c71b6f0746241dfedc6a3">&#9670;&nbsp;</a></span>compute_shared_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::int32_t, std::set&lt; int &gt; &gt; IndexMap::compute_shared_indices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000003">Todo:</a></b></dt><dd>Aim to remove this function? If it's kept, should it work with neighborhood ranks?</dd></dl>
<p>Compute map from each local (owned) index to the set of ranks that have the index as a ghost </p><dl class="section return"><dt>Returns</dt><dd>shared indices </dd></dl>

</div>
</div>
<a id="a866f40d014bebea5122941892306be27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866f40d014bebea5122941892306be27">&#9670;&nbsp;</a></span>global_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::int64_t &gt; IndexMap::global_indices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global indices. </p>
<dl class="section return"><dt>Returns</dt><dd>The global index for all local indices (0, 1, 2, ...) on this process, including ghosts </dd></dl>

</div>
</div>
<a id="a3483bb36802574f2c5837fa4116e7a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3483bb36802574f2c5837fa4116e7a7a">&#9670;&nbsp;</a></span>global_to_local()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IndexMap::global_to_local </td>
          <td>(</td>
          <td class="paramtype">const xtl::span&lt; const std::int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const xtl::span&lt; std::int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>local</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute local indices for array of global indices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">global</td><td>Global indices </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">local</td><td>The local of the corresponding global index in 'global'. Returns -1 if the local index does not exist on this process. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae6bf41711f68158f82810e123324cdb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6bf41711f68158f82810e123324cdb8">&#9670;&nbsp;</a></span>local_to_global()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IndexMap::local_to_global </td>
          <td>(</td>
          <td class="paramtype">const xtl::span&lt; const std::int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const xtl::span&lt; std::int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>global</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute global indices for array of local indices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">local</td><td>Local indices </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">global</td><td>The global indices </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4ee86a2becbe0637c283d40468e406d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ee86a2becbe0637c283d40468e406d">&#9670;&nbsp;</a></span>scatter_fwd()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void IndexMap::scatter_fwd </td>
          <td>(</td>
          <td class="paramtype">xtl::span&lt; const T &gt;&#160;</td>
          <td class="paramname"><em>local_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">xtl::span&lt; T &gt;&#160;</td>
          <td class="paramname"><em>remote_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send n values for each index that is owned to processes that have the index as a ghost. The size of the input array local_data must be the same as n * <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#affefbc546db400040ae83e74d37d59b7" title="Number of indices owned by on this process.">size_local()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">local_data</td><td>Local data associated with each owned local index to be sent to process where the data is ghosted. Size must be n * <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#affefbc546db400040ae83e74d37d59b7" title="Number of indices owned by on this process.">size_local()</a>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">remote_data</td><td>Ghost data on this process received from the owning process. Size will be n * <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a8c3670a05d295c0989ac299b3724f241" title="Number of ghost indices on this process.">num_ghosts()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Number of data items per index </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf1256ed653547c3e6ecc4ef425c0ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf1256ed653547c3e6ecc4ef425c0ad7">&#9670;&nbsp;</a></span>scatter_rev()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void IndexMap::scatter_rev </td>
          <td>(</td>
          <td class="paramtype">xtl::span&lt; T &gt;&#160;</td>
          <td class="paramname"><em>local_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">xtl::span&lt; const T &gt;&#160;</td>
          <td class="paramname"><em>remote_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a3e4b4f8aa5b81ea60948b3dde1221814">IndexMap::Mode</a>&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send n values for each ghost index to owning to the process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">local_data</td><td>Local data associated with each owned local index to be sent to process where the data is ghosted. Size must be n * <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#affefbc546db400040ae83e74d37d59b7" title="Number of indices owned by on this process.">size_local()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote_data</td><td>Ghost data on this process received from the owning process. Size will be n * <a class="el" href="../../d2/d30/classdolfinx_1_1common_1_1IndexMap.html#a8c3670a05d295c0989ac299b3724f241" title="Number of ghost indices on this process.">num_ghosts()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Number of data items per index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>Sum or set received values in local_data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad41131d1e6226ac3232cb6bbe9082776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad41131d1e6226ac3232cb6bbe9082776">&#9670;&nbsp;</a></span>shared_indices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../df/d84/classdolfinx_1_1graph_1_1AdjacencyList.html">graph::AdjacencyList</a>&lt; std::int32_t &gt; &amp; IndexMap::shared_indices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000002">Todo:</a></b></dt><dd>Reconsider name Local (owned) indices shared with neighbor processes, i.e. are ghosts on other processes, grouped by sharing (neighbor) process(destination ranks in forward communicator and source ranks in the reverse communicator) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>List of indices that are ghosted on other processes </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/__w/dolfinx/dolfinx/cpp/dolfinx/common/<a class="el" href="../../d7/d74/IndexMap_8h_source.html">IndexMap.h</a></li>
<li>/__w/dolfinx/dolfinx/cpp/dolfinx/common/IndexMap.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
